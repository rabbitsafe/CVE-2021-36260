exec(__import__('base64').b64decode(__import__('codecs').getencoder('utf-8')('IyEvdXNyL2Jpbi9weXRob24KaW1wb3J0IGJpbmFzY2lpCmltcG9ydCBjb2RlCmltcG9ydCBvcwppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IHJhbmRvbQppbXBvcnQgcmUKaW1wb3J0IHNlbGVjdAppbXBvcnQgc29ja2V0CmltcG9ydCBzdHJ1Y3QKaW1wb3J0IHN1YnByb2Nlc3MKaW1wb3J0IHN5cwppbXBvcnQgdGhyZWFkaW5nCmltcG9ydCB0aW1lCmltcG9ydCB0cmFjZWJhY2sKCnRyeToKICAgIGltcG9ydCBjdHlwZXMKZXhjZXB0IEltcG9ydEVycm9yOgogICAgaGFzX3dpbmRsbCA9IEZhbHNlCmVsc2U6CiAgICBoYXNfd2luZGxsID0gaGFzYXR0cihjdHlwZXMsICd3aW5kbGwnKQoKdHJ5OgogICAgdXJsbGliX2ltcG9ydHMgPSBbJ1Byb3h5QmFzaWNBdXRoSGFuZGxlcicsICdQcm94eUhhbmRsZXInLCAnSFRUUFNIYW5kbGVyJywgJ1JlcXVlc3QnLCAnYnVpbGRfb3BlbmVyJywgJ2luc3RhbGxfb3BlbmVyJywgJ3VybG9wZW4nXQogICAgaWYgc3lzLnZlcnNpb25faW5mb1swXSA8IDM6CiAgICAgICAgdXJsbGliID0gX19pbXBvcnRfXygndXJsbGliMicsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQogICAgZWxzZToKICAgICAgICB1cmxsaWIgPSBfX2ltcG9ydF9fKCd1cmxsaWIucmVxdWVzdCcsIGZyb21saXN0PXVybGxpYl9pbXBvcnRzKQpleGNlcHQgSW1wb3J0RXJyb3I6CiAgICBoYXNfdXJsbGliID0gRmFsc2UKZWxzZToKICAgIGhhc191cmxsaWIgPSBUcnVlCgppZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMzoKICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgc3RyKQogICAgaXNfYnl0ZXMgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIHN0cikKICAgIGJ5dGVzID0gbGFtYmRhICphcmdzOiBzdHIoKmFyZ3NbOjFdKQogICAgTlVMTF9CWVRFID0gJ1x4MDAnCiAgICB1bmljb2RlID0gbGFtYmRhIHg6ICh4LmRlY29kZSgnVVRGLTgnKSBpZiBpc2luc3RhbmNlKHgsIHN0cikgZWxzZSB4KQplbHNlOgogICAgaWYgaXNpbnN0YW5jZShfX2J1aWx0aW5zX18sIGRpY3QpOgogICAgICAgIGlzX3N0ciA9IGxhbWJkYSBvYmo6IGlzc3ViY2xhc3Mob2JqLl9fY2xhc3NfXywgX19idWlsdGluc19fWydzdHInXSkKICAgICAgICBzdHIgPSBsYW1iZGEgeDogX19idWlsdGluc19fWydzdHInXSh4LCAqKCgpIGlmIGlzaW5zdGFuY2UoeCwgKGZsb2F0LCBpbnQpKSBlbHNlICgnVVRGLTgnLCkpKQogICAgZWxzZToKICAgICAgICBpc19zdHIgPSBsYW1iZGEgb2JqOiBpc3N1YmNsYXNzKG9iai5fX2NsYXNzX18sIF9fYnVpbHRpbnNfXy5zdHIpCiAgICAgICAgc3RyID0gbGFtYmRhIHg6IF9fYnVpbHRpbnNfXy5zdHIoeCwgKigoKSBpZiBpc2luc3RhbmNlKHgsIChmbG9hdCwgaW50KSkgZWxzZSAoJ1VURi04JywpKSkKICAgIGlzX2J5dGVzID0gbGFtYmRhIG9iajogaXNzdWJjbGFzcyhvYmouX19jbGFzc19fLCBieXRlcykKICAgIE5VTExfQllURSA9IGJ5dGVzKCdceDAwJywgJ1VURi04JykKICAgIGxvbmcgPSBpbnQKICAgIHVuaWNvZGUgPSBsYW1iZGEgeDogKHguZGVjb2RlKCdVVEYtOCcpIGlmIGlzaW5zdGFuY2UoeCwgYnl0ZXMpIGVsc2UgeCkKCiMgcmVzZWVkIHRoZSByYW5kb20gZ2VuZXJhdG9yLgpyYW5kb20uc2VlZCgpCgojCiMgQ29uc3RhbnRzCiMKCiMgdGhlc2UgdmFsdWVzIHdpbGwgYmUgcGF0Y2hlZCwgRE8gTk9UIENIQU5HRSBUSEVNCkRFQlVHR0lORyA9IEZhbHNlClRSWV9UT19GT1JLID0gVHJ1ZQpIVFRQX0NPTk5FQ1RJT05fVVJMID0gTm9uZQpIVFRQX1BST1hZID0gTm9uZQpIVFRQX1VTRVJfQUdFTlQgPSBOb25lCkhUVFBfQ09PS0lFID0gTm9uZQpIVFRQX0hPU1QgPSBOb25lCkhUVFBfUkVGRVJFUiA9IE5vbmUKUEFZTE9BRF9VVUlEID0gJzFmMDU4Y2U4NjBlYWVlNzcyODEyM2QwNjQ5OGVhOTAxJwpTRVNTSU9OX0dVSUQgPSAnMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnClNFU1NJT05fQ09NTVVOSUNBVElPTl9USU1FT1VUID0gMzAwClNFU1NJT05fRVhQSVJBVElPTl9USU1FT1VUID0gNjA0ODAwClNFU1NJT05fUkVUUllfVE9UQUwgPSAzNjAwClNFU1NJT05fUkVUUllfV0FJVCA9IDEwCgpQQUNLRVRfVFlQRV9SRVFVRVNUICAgICAgICA9IDAKUEFDS0VUX1RZUEVfUkVTUE9OU0UgICAgICAgPSAxClBBQ0tFVF9UWVBFX1BMQUlOX1JFUVVFU1QgID0gMTAKUEFDS0VUX1RZUEVfUExBSU5fUkVTUE9OU0UgPSAxMQoKRVJST1JfU1VDQ0VTUyA9IDAKIyBub3QgZGVmaW5lZCBpbiBvcmlnaW5hbCBDIGltcGxlbWVudGF0aW9uCkVSUk9SX0ZBSUxVUkUgPSAxCkVSUk9SX0ZBSUxVUkVfUFlUSE9OID0gMgpFUlJPUl9GQUlMVVJFX1dJTkRPV1MgPSAzCgpDSEFOTkVMX0NMQVNTX0JVRkZFUkVEID0gMApDSEFOTkVMX0NMQVNTX1NUUkVBTSAgID0gMQpDSEFOTkVMX0NMQVNTX0RBVEFHUkFNID0gMgpDSEFOTkVMX0NMQVNTX1BPT0wgICAgID0gMwoKIwojIFRMViBNZXRhIFR5cGVzCiMKVExWX01FVEFfVFlQRV9OT05FICAgICAgID0gKCAgIDAgICApClRMVl9NRVRBX1RZUEVfU1RSSU5HICAgICA9ICgxIDw8IDE2KQpUTFZfTUVUQV9UWVBFX1VJTlQgICAgICAgPSAoMSA8PCAxNykKVExWX01FVEFfVFlQRV9SQVcgICAgICAgID0gKDEgPDwgMTgpClRMVl9NRVRBX1RZUEVfQk9PTCAgICAgICA9ICgxIDw8IDE5KQpUTFZfTUVUQV9UWVBFX1FXT1JEICAgICAgPSAoMSA8PCAyMCkKVExWX01FVEFfVFlQRV9DT01QUkVTU0VEID0gKDEgPDwgMjkpClRMVl9NRVRBX1RZUEVfR1JPVVAgICAgICA9ICgxIDw8IDMwKQpUTFZfTUVUQV9UWVBFX0NPTVBMRVggICAgPSAoMSA8PCAzMSkKIyBub3QgZGVmaW5lZCBpbiBvcmlnaW5hbApUTFZfTUVUQV9UWVBFX01BU0sgPSAoMTw8MzEpKygxPDwzMCkrKDE8PDI5KSsoMTw8MTkpKygxPDwxOCkrKDE8PDE3KSsoMTw8MTYpCgojCiMgVExWIGJhc2Ugc3RhcnRpbmcgcG9pbnRzCiMKVExWX1JFU0VSVkVEICAgPSAwClRMVl9FWFRFTlNJT05TID0gMjAwMDAKVExWX1VTRVIgICAgICAgPSA0MDAwMApUTFZfVEVNUCAgICAgICA9IDYwMDAwCgojCiMgVExWIFNwZWNpZmljIFR5cGVzCiMKVExWX1RZUEVfQU5ZICAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9OT05FICAgIHwgMApUTFZfVFlQRV9DT01NQU5EX0lEICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAxClRMVl9UWVBFX1JFUVVFU1RfSUQgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDIKVExWX1RZUEVfRVhDRVBUSU9OICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9HUk9VUCAgIHwgMwpUTFZfVFlQRV9SRVNVTFQgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA0CgpUTFZfVFlQRV9TVFJJTkcgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAxMApUTFZfVFlQRV9VSU5UICAgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAxMQpUTFZfVFlQRV9CT09MICAgICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX0JPT0wgICAgfCAxMgoKVExWX1RZUEVfTEVOR1RIICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMjUKVExWX1RZUEVfREFUQSAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgMjYKVExWX1RZUEVfRkxBR1MgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMjcKClRMVl9UWVBFX0NIQU5ORUxfSUQgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDUwClRMVl9UWVBFX0NIQU5ORUxfVFlQRSAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDUxClRMVl9UWVBFX0NIQU5ORUxfREFUQSAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDUyClRMVl9UWVBFX0NIQU5ORUxfREFUQV9HUk9VUCAgICA9IFRMVl9NRVRBX1RZUEVfR1JPVVAgICB8IDUzClRMVl9UWVBFX0NIQU5ORUxfQ0xBU1MgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDU0ClRMVl9UWVBFX0NIQU5ORUxfUEFSRU5USUQgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDU1CgpUTFZfVFlQRV9TRUVLX1dIRU5DRSAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA3MApUTFZfVFlQRV9TRUVLX09GRlNFVCAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA3MQpUTFZfVFlQRV9TRUVLX1BPUyAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCA3MgoKVExWX1RZUEVfRVhDRVBUSU9OX0NPREUgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgMzAwClRMVl9UWVBFX0VYQ0VQVElPTl9TVFJJTkcgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDMwMQoKVExWX1RZUEVfTElCUkFSWV9QQVRIICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDAwClRMVl9UWVBFX1RBUkdFVF9QQVRIICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQwMQoKVExWX1RZUEVfVFJBTlNfVFlQRSAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNDMwClRMVl9UWVBFX1RSQU5TX1VSTCAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQzMQpUTFZfVFlQRV9UUkFOU19VQSAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzIKVExWX1RZUEVfVFJBTlNfQ09NTV9USU1FT1VUICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNDMzClRMVl9UWVBFX1RSQU5TX1NFU1NJT05fRVhQICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQzNApUTFZfVFlQRV9UUkFOU19DRVJUX0hBU0ggICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA0MzUKVExWX1RZUEVfVFJBTlNfUFJPWFlfSE9TVCAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgNDM2ClRMVl9UWVBFX1RSQU5TX1BST1hZX1VTRVIgICAgICA9IFRMVl9NRVRBX1RZUEVfU1RSSU5HICB8IDQzNwpUTFZfVFlQRV9UUkFOU19QUk9YWV9QQVNTICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0MzgKVExWX1RZUEVfVFJBTlNfUkVUUllfVE9UQUwgICAgID0gVExWX01FVEFfVFlQRV9VSU5UICAgIHwgNDM5ClRMVl9UWVBFX1RSQU5TX1JFVFJZX1dBSVQgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDQ0MApUTFZfVFlQRV9UUkFOU19IRUFERVJTICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0NDEKVExWX1RZUEVfVFJBTlNfR1JPVVAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9HUk9VUCAgIHwgNDQyCgpUTFZfVFlQRV9NQUNISU5FX0lEICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCA0NjAKVExWX1RZUEVfVVVJRCAgICAgICAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNDYxClRMVl9UWVBFX1NFU1NJT05fR1VJRCAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfUkFXICAgICB8IDQ2MgoKVExWX1RZUEVfUlNBX1BVQl9LRVkgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNTUwClRMVl9UWVBFX1NZTV9LRVlfVFlQRSAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDU1MQpUTFZfVFlQRV9TWU1fS0VZICAgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1JBVyAgICAgfCA1NTIKVExWX1RZUEVfRU5DX1NZTV9LRVkgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9SQVcgICAgIHwgNTUzCgpUTFZfVFlQRV9QRUVSX0hPU1QgICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1NUUklORyAgfCAxNTAwClRMVl9UWVBFX1BFRVJfUE9SVCAgICAgICAgICAgICA9IFRMVl9NRVRBX1RZUEVfVUlOVCAgICB8IDE1MDEKVExWX1RZUEVfTE9DQUxfSE9TVCAgICAgICAgICAgID0gVExWX01FVEFfVFlQRV9TVFJJTkcgIHwgMTUwMgpUTFZfVFlQRV9MT0NBTF9QT1JUICAgICAgICAgICAgPSBUTFZfTUVUQV9UWVBFX1VJTlQgICAgfCAxNTAzCgoKRVhQT1JURURfU1lNQk9MUyA9IHt9CkVYUE9SVEVEX1NZTUJPTFNbJ0RFQlVHR0lORyddID0gREVCVUdHSU5HCgpFTkNfTk9ORSA9IDAKRU5DX0FFUzI1NiA9IDEKCiMgUGFja2V0IGhlYWRlciBzaXplcwpQQUNLRVRfWE9SX0tFWV9TSVpFID0gNApQQUNLRVRfU0VTU0lPTl9HVUlEX1NJWkUgPSAxNgpQQUNLRVRfRU5DUllQVF9GTEFHX1NJWkUgPSA0ClBBQ0tFVF9MRU5HVEhfU0laRSA9IDQKUEFDS0VUX1RZUEVfU0laRSA9IDQKUEFDS0VUX0xFTkdUSF9PRkYgPSAoUEFDS0VUX1hPUl9LRVlfU0laRSArIFBBQ0tFVF9TRVNTSU9OX0dVSURfU0laRSArCiAgICAgICAgUEFDS0VUX0VOQ1JZUFRfRkxBR19TSVpFKQpQQUNLRVRfSEVBREVSX1NJWkUgPSAoUEFDS0VUX1hPUl9LRVlfU0laRSArIFBBQ0tFVF9TRVNTSU9OX0dVSURfU0laRSArCiAgICAgICAgUEFDS0VUX0VOQ1JZUFRfRkxBR19TSVpFICsgUEFDS0VUX0xFTkdUSF9TSVpFICsgUEFDS0VUX1RZUEVfU0laRSkKCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tCiMgLS0tIFRISVMgQ09OVEVOVCBXQVMgR0VORVJBVEVEIEJZIEEgVE9PTCBAIDIwMjAtMDUtMDEgMDU6Mjk6NTkgVVRDCkVYVEVOU0lPTl9JRF9DT1JFID0gMApFWFRFTlNJT05fSURfU1REQVBJID0gMTAwMApDT01NQU5EX0lEUyA9ICgKICAgICgxLCAnY29yZV9jaGFubmVsX2Nsb3NlJyksCiAgICAoMiwgJ2NvcmVfY2hhbm5lbF9lb2YnKSwKICAgICgzLCAnY29yZV9jaGFubmVsX2ludGVyYWN0JyksCiAgICAoNCwgJ2NvcmVfY2hhbm5lbF9vcGVuJyksCiAgICAoNSwgJ2NvcmVfY2hhbm5lbF9yZWFkJyksCiAgICAoNiwgJ2NvcmVfY2hhbm5lbF9zZWVrJyksCiAgICAoNywgJ2NvcmVfY2hhbm5lbF90ZWxsJyksCiAgICAoOCwgJ2NvcmVfY2hhbm5lbF93cml0ZScpLAogICAgKDksICdjb3JlX2NvbnNvbGVfd3JpdGUnKSwKICAgICgxMCwgJ2NvcmVfZW51bWV4dGNtZCcpLAogICAgKDExLCAnY29yZV9nZXRfc2Vzc2lvbl9ndWlkJyksCiAgICAoMTIsICdjb3JlX2xvYWRsaWInKSwKICAgICgxMywgJ2NvcmVfbWFjaGluZV9pZCcpLAogICAgKDE0LCAnY29yZV9taWdyYXRlJyksCiAgICAoMTUsICdjb3JlX25hdGl2ZV9hcmNoJyksCiAgICAoMTYsICdjb3JlX25lZ290aWF0ZV90bHZfZW5jcnlwdGlvbicpLAogICAgKDE3LCAnY29yZV9wYXRjaF91cmwnKSwKICAgICgxOCwgJ2NvcmVfcGl2b3RfYWRkJyksCiAgICAoMTksICdjb3JlX3Bpdm90X3JlbW92ZScpLAogICAgKDIwLCAnY29yZV9waXZvdF9zZXNzaW9uX2RpZWQnKSwKICAgICgyMSwgJ2NvcmVfc2V0X3Nlc3Npb25fZ3VpZCcpLAogICAgKDIyLCAnY29yZV9zZXRfdXVpZCcpLAogICAgKDIzLCAnY29yZV9zaHV0ZG93bicpLAogICAgKDI0LCAnY29yZV90cmFuc3BvcnRfYWRkJyksCiAgICAoMjUsICdjb3JlX3RyYW5zcG9ydF9jaGFuZ2UnKSwKICAgICgyNiwgJ2NvcmVfdHJhbnNwb3J0X2dldGNlcnRoYXNoJyksCiAgICAoMjcsICdjb3JlX3RyYW5zcG9ydF9saXN0JyksCiAgICAoMjgsICdjb3JlX3RyYW5zcG9ydF9uZXh0JyksCiAgICAoMjksICdjb3JlX3RyYW5zcG9ydF9wcmV2JyksCiAgICAoMzAsICdjb3JlX3RyYW5zcG9ydF9yZW1vdmUnKSwKICAgICgzMSwgJ2NvcmVfdHJhbnNwb3J0X3NldGNlcnRoYXNoJyksCiAgICAoMzIsICdjb3JlX3RyYW5zcG9ydF9zZXRfdGltZW91dHMnKSwKICAgICgzMywgJ2NvcmVfdHJhbnNwb3J0X3NsZWVwJyksCiAgICAoMTAwMSwgJ3N0ZGFwaV9mc19jaGRpcicpLAogICAgKDEwMDIsICdzdGRhcGlfZnNfY2htb2QnKSwKICAgICgxMDAzLCAnc3RkYXBpX2ZzX2RlbGV0ZV9kaXInKSwKICAgICgxMDA0LCAnc3RkYXBpX2ZzX2RlbGV0ZV9maWxlJyksCiAgICAoMTAwNSwgJ3N0ZGFwaV9mc19maWxlX2NvcHknKSwKICAgICgxMDA2LCAnc3RkYXBpX2ZzX2ZpbGVfZXhwYW5kX3BhdGgnKSwKICAgICgxMDA3LCAnc3RkYXBpX2ZzX2ZpbGVfbW92ZScpLAogICAgKDEwMDgsICdzdGRhcGlfZnNfZ2V0d2QnKSwKICAgICgxMDA5LCAnc3RkYXBpX2ZzX2xzJyksCiAgICAoMTAxMCwgJ3N0ZGFwaV9mc19tZDUnKSwKICAgICgxMDExLCAnc3RkYXBpX2ZzX21rZGlyJyksCiAgICAoMTAxMiwgJ3N0ZGFwaV9mc19tb3VudF9zaG93JyksCiAgICAoMTAxMywgJ3N0ZGFwaV9mc19zZWFyY2gnKSwKICAgICgxMDE0LCAnc3RkYXBpX2ZzX3NlcGFyYXRvcicpLAogICAgKDEwMTUsICdzdGRhcGlfZnNfc2hhMScpLAogICAgKDEwMTYsICdzdGRhcGlfZnNfc3RhdCcpLAogICAgKDEwMTcsICdzdGRhcGlfbmV0X2NvbmZpZ19hZGRfcm91dGUnKSwKICAgICgxMDE4LCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X2FycF90YWJsZScpLAogICAgKDEwMTksICdzdGRhcGlfbmV0X2NvbmZpZ19nZXRfaW50ZXJmYWNlcycpLAogICAgKDEwMjAsICdzdGRhcGlfbmV0X2NvbmZpZ19nZXRfbmV0c3RhdCcpLAogICAgKDEwMjEsICdzdGRhcGlfbmV0X2NvbmZpZ19nZXRfcHJveHknKSwKICAgICgxMDIyLCAnc3RkYXBpX25ldF9jb25maWdfZ2V0X3JvdXRlcycpLAogICAgKDEwMjMsICdzdGRhcGlfbmV0X2NvbmZpZ19yZW1vdmVfcm91dGUnKSwKICAgICgxMDI0LCAnc3RkYXBpX25ldF9yZXNvbHZlX2hvc3QnKSwKICAgICgxMDI1LCAnc3RkYXBpX25ldF9yZXNvbHZlX2hvc3RzJyksCiAgICAoMTAyNiwgJ3N0ZGFwaV9uZXRfc29ja2V0X3RjcF9zaHV0ZG93bicpLAogICAgKDEwMjcsICdzdGRhcGlfbmV0X3RjcF9jaGFubmVsX29wZW4nKSwKICAgICgxMDI4LCAnc3RkYXBpX3JhaWxndW5fYXBpJyksCiAgICAoMTAyOSwgJ3N0ZGFwaV9yYWlsZ3VuX2FwaV9tdWx0aScpLAogICAgKDEwMzAsICdzdGRhcGlfcmFpbGd1bl9tZW1yZWFkJyksCiAgICAoMTAzMSwgJ3N0ZGFwaV9yYWlsZ3VuX21lbXdyaXRlJyksCiAgICAoMTAzMiwgJ3N0ZGFwaV9yZWdpc3RyeV9jaGVja19rZXlfZXhpc3RzJyksCiAgICAoMTAzMywgJ3N0ZGFwaV9yZWdpc3RyeV9jbG9zZV9rZXknKSwKICAgICgxMDM0LCAnc3RkYXBpX3JlZ2lzdHJ5X2NyZWF0ZV9rZXknKSwKICAgICgxMDM1LCAnc3RkYXBpX3JlZ2lzdHJ5X2RlbGV0ZV9rZXknKSwKICAgICgxMDM2LCAnc3RkYXBpX3JlZ2lzdHJ5X2RlbGV0ZV92YWx1ZScpLAogICAgKDEwMzcsICdzdGRhcGlfcmVnaXN0cnlfZW51bV9rZXknKSwKICAgICgxMDM4LCAnc3RkYXBpX3JlZ2lzdHJ5X2VudW1fa2V5X2RpcmVjdCcpLAogICAgKDEwMzksICdzdGRhcGlfcmVnaXN0cnlfZW51bV92YWx1ZScpLAogICAgKDEwNDAsICdzdGRhcGlfcmVnaXN0cnlfZW51bV92YWx1ZV9kaXJlY3QnKSwKICAgICgxMDQxLCAnc3RkYXBpX3JlZ2lzdHJ5X2xvYWRfa2V5JyksCiAgICAoMTA0MiwgJ3N0ZGFwaV9yZWdpc3RyeV9vcGVuX2tleScpLAogICAgKDEwNDMsICdzdGRhcGlfcmVnaXN0cnlfb3Blbl9yZW1vdGVfa2V5JyksCiAgICAoMTA0NCwgJ3N0ZGFwaV9yZWdpc3RyeV9xdWVyeV9jbGFzcycpLAogICAgKDEwNDUsICdzdGRhcGlfcmVnaXN0cnlfcXVlcnlfdmFsdWUnKSwKICAgICgxMDQ2LCAnc3RkYXBpX3JlZ2lzdHJ5X3F1ZXJ5X3ZhbHVlX2RpcmVjdCcpLAogICAgKDEwNDcsICdzdGRhcGlfcmVnaXN0cnlfc2V0X3ZhbHVlJyksCiAgICAoMTA0OCwgJ3N0ZGFwaV9yZWdpc3RyeV9zZXRfdmFsdWVfZGlyZWN0JyksCiAgICAoMTA0OSwgJ3N0ZGFwaV9yZWdpc3RyeV91bmxvYWRfa2V5JyksCiAgICAoMTA1MCwgJ3N0ZGFwaV9zeXNfY29uZmlnX2RyaXZlcl9saXN0JyksCiAgICAoMTA1MSwgJ3N0ZGFwaV9zeXNfY29uZmlnX2Ryb3BfdG9rZW4nKSwKICAgICgxMDUyLCAnc3RkYXBpX3N5c19jb25maWdfZ2V0ZW52JyksCiAgICAoMTA1MywgJ3N0ZGFwaV9zeXNfY29uZmlnX2dldHByaXZzJyksCiAgICAoMTA1NCwgJ3N0ZGFwaV9zeXNfY29uZmlnX2dldHNpZCcpLAogICAgKDEwNTUsICdzdGRhcGlfc3lzX2NvbmZpZ19nZXR1aWQnKSwKICAgICgxMDU2LCAnc3RkYXBpX3N5c19jb25maWdfbG9jYWx0aW1lJyksCiAgICAoMTA1NywgJ3N0ZGFwaV9zeXNfY29uZmlnX3JldjJzZWxmJyksCiAgICAoMTA1OCwgJ3N0ZGFwaV9zeXNfY29uZmlnX3N0ZWFsX3Rva2VuJyksCiAgICAoMTA1OSwgJ3N0ZGFwaV9zeXNfY29uZmlnX3N5c2luZm8nKSwKICAgICgxMDYwLCAnc3RkYXBpX3N5c19ldmVudGxvZ19jbGVhcicpLAogICAgKDEwNjEsICdzdGRhcGlfc3lzX2V2ZW50bG9nX2Nsb3NlJyksCiAgICAoMTA2MiwgJ3N0ZGFwaV9zeXNfZXZlbnRsb2dfbnVtcmVjb3JkcycpLAogICAgKDEwNjMsICdzdGRhcGlfc3lzX2V2ZW50bG9nX29sZGVzdCcpLAogICAgKDEwNjQsICdzdGRhcGlfc3lzX2V2ZW50bG9nX29wZW4nKSwKICAgICgxMDY1LCAnc3RkYXBpX3N5c19ldmVudGxvZ19yZWFkJyksCiAgICAoMTA2NiwgJ3N0ZGFwaV9zeXNfcG93ZXJfZXhpdHdpbmRvd3MnKSwKICAgICgxMDY3LCAnc3RkYXBpX3N5c19wcm9jZXNzX2F0dGFjaCcpLAogICAgKDEwNjgsICdzdGRhcGlfc3lzX3Byb2Nlc3NfY2xvc2UnKSwKICAgICgxMDY5LCAnc3RkYXBpX3N5c19wcm9jZXNzX2V4ZWN1dGUnKSwKICAgICgxMDcwLCAnc3RkYXBpX3N5c19wcm9jZXNzX2dldF9pbmZvJyksCiAgICAoMTA3MSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19nZXRfcHJvY2Vzc2VzJyksCiAgICAoMTA3MiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19nZXRwaWQnKSwKICAgICgxMDczLCAnc3RkYXBpX3N5c19wcm9jZXNzX2ltYWdlX2dldF9pbWFnZXMnKSwKICAgICgxMDc0LCAnc3RkYXBpX3N5c19wcm9jZXNzX2ltYWdlX2dldF9wcm9jX2FkZHJlc3MnKSwKICAgICgxMDc1LCAnc3RkYXBpX3N5c19wcm9jZXNzX2ltYWdlX2xvYWQnKSwKICAgICgxMDc2LCAnc3RkYXBpX3N5c19wcm9jZXNzX2ltYWdlX3VubG9hZCcpLAogICAgKDEwNzcsICdzdGRhcGlfc3lzX3Byb2Nlc3Nfa2lsbCcpLAogICAgKDEwNzgsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X2FsbG9jYXRlJyksCiAgICAoMTA3OSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfZnJlZScpLAogICAgKDEwODAsICdzdGRhcGlfc3lzX3Byb2Nlc3NfbWVtb3J5X2xvY2snKSwKICAgICgxMDgxLCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9wcm90ZWN0JyksCiAgICAoMTA4MiwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfcXVlcnknKSwKICAgICgxMDgzLCAnc3RkYXBpX3N5c19wcm9jZXNzX21lbW9yeV9yZWFkJyksCiAgICAoMTA4NCwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfdW5sb2NrJyksCiAgICAoMTA4NSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc19tZW1vcnlfd3JpdGUnKSwKICAgICgxMDg2LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9jbG9zZScpLAogICAgKDEwODcsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX2NyZWF0ZScpLAogICAgKDEwODgsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX2dldF90aHJlYWRzJyksCiAgICAoMTA4OSwgJ3N0ZGFwaV9zeXNfcHJvY2Vzc190aHJlYWRfb3BlbicpLAogICAgKDEwOTAsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX3F1ZXJ5X3JlZ3MnKSwKICAgICgxMDkxLCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9yZXN1bWUnKSwKICAgICgxMDkyLCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF9zZXRfcmVncycpLAogICAgKDEwOTMsICdzdGRhcGlfc3lzX3Byb2Nlc3NfdGhyZWFkX3N1c3BlbmQnKSwKICAgICgxMDk0LCAnc3RkYXBpX3N5c19wcm9jZXNzX3RocmVhZF90ZXJtaW5hdGUnKSwKICAgICgxMDk1LCAnc3RkYXBpX3N5c19wcm9jZXNzX3dhaXQnKSwKICAgICgxMDk2LCAnc3RkYXBpX3VpX2Rlc2t0b3BfZW51bScpLAogICAgKDEwOTcsICdzdGRhcGlfdWlfZGVza3RvcF9nZXQnKSwKICAgICgxMDk4LCAnc3RkYXBpX3VpX2Rlc2t0b3Bfc2NyZWVuc2hvdCcpLAogICAgKDEwOTksICdzdGRhcGlfdWlfZGVza3RvcF9zZXQnKSwKICAgICgxMTAwLCAnc3RkYXBpX3VpX2VuYWJsZV9rZXlib2FyZCcpLAogICAgKDExMDEsICdzdGRhcGlfdWlfZW5hYmxlX21vdXNlJyksCiAgICAoMTEwMiwgJ3N0ZGFwaV91aV9nZXRfaWRsZV90aW1lJyksCiAgICAoMTEwMywgJ3N0ZGFwaV91aV9nZXRfa2V5c191dGY4JyksCiAgICAoMTEwNCwgJ3N0ZGFwaV91aV9zZW5kX2tleWV2ZW50JyksCiAgICAoMTEwNSwgJ3N0ZGFwaV91aV9zZW5kX2tleXMnKSwKICAgICgxMTA2LCAnc3RkYXBpX3VpX3NlbmRfbW91c2UnKSwKICAgICgxMTA3LCAnc3RkYXBpX3VpX3N0YXJ0X2tleXNjYW4nKSwKICAgICgxMTA4LCAnc3RkYXBpX3VpX3N0b3Bfa2V5c2NhbicpLAogICAgKDExMDksICdzdGRhcGlfdWlfdW5sb2NrX2Rlc2t0b3AnKSwKICAgICgxMTEwLCAnc3RkYXBpX3dlYmNhbV9hdWRpb19yZWNvcmQnKSwKICAgICgxMTExLCAnc3RkYXBpX3dlYmNhbV9nZXRfZnJhbWUnKSwKICAgICgxMTEyLCAnc3RkYXBpX3dlYmNhbV9saXN0JyksCiAgICAoMTExMywgJ3N0ZGFwaV93ZWJjYW1fc3RhcnQnKSwKICAgICgxMTE0LCAnc3RkYXBpX3dlYmNhbV9zdG9wJyksCiAgICAoMTExNSwgJ3N0ZGFwaV9hdWRpb19taWNfc3RhcnQnKSwKICAgICgxMTE2LCAnc3RkYXBpX2F1ZGlvX21pY19zdG9wJyksCiAgICAoMTExNywgJ3N0ZGFwaV9hdWRpb19taWNfbGlzdCcpLAogICAgKDExMTgsICdzdGRhcGlfc3lzX3Byb2Nlc3Nfc2V0X3Rlcm1fc2l6ZScpLAoKKQojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLQoKY2xhc3MgU1lTVEVNX0lORk8oY3R5cGVzLlN0cnVjdHVyZSk6CiAgICBfZmllbGRzXyA9IFsoIndQcm9jZXNzb3JBcmNoaXRlY3R1cmUiLCBjdHlwZXMuY191aW50MTYpLAogICAgICAgICgid1Jlc2VydmVkIiwgY3R5cGVzLmNfdWludDE2KSwKICAgICAgICAoImR3UGFnZVNpemUiLCBjdHlwZXMuY191aW50MzIpLAogICAgICAgICgibHBNaW5pbXVtQXBwbGljYXRpb25BZGRyZXNzIiwgY3R5cGVzLmNfdm9pZF9wKSwKICAgICAgICAoImxwTWF4aW11bUFwcGxpY2F0aW9uQWRkcmVzcyIsIGN0eXBlcy5jX3ZvaWRfcCksCiAgICAgICAgKCJkd0FjdGl2ZVByb2Nlc3Nvck1hc2siLCBjdHlwZXMuY191aW50MzIpLAogICAgICAgICgiZHdOdW1iZXJPZlByb2Nlc3NvcnMiLCBjdHlwZXMuY191aW50MzIpLAogICAgICAgICgiZHdQcm9jZXNzb3JUeXBlIiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoImR3QWxsb2NhdGlvbkdyYW51bGFyaXR5IiwgY3R5cGVzLmNfdWludDMyKSwKICAgICAgICAoIndQcm9jZXNzb3JMZXZlbCIsIGN0eXBlcy5jX3VpbnQxNiksCiAgICAgICAgKCJ3UHJvY2Vzc29yUmV2aXNpb24iLCBjdHlwZXMuY191aW50MTYpXQoKZGVmIHJhbmRfYnl0ZXMobik6CiAgICByZXR1cm4gb3MudXJhbmRvbShuKQoKZGVmIHJhbmRfeG9yX2tleSgpOgogICAgcmV0dXJuIHR1cGxlKHJhbmRvbS5yYW5kaW50KDEsIDI1NSkgZm9yIF8gaW4gcmFuZ2UoNCkpCgpkZWYgeG9yX2J5dGVzKGtleSwgZGF0YSk6CiAgICBpZiBzeXMudmVyc2lvbl9pbmZvWzBdIDwgMzoKICAgICAgICBkZXhvcmVkID0gJycuam9pbihjaHIob3JkKGRhdGFbaV0pIF4ga2V5W2kgJSBsZW4oa2V5KV0pIGZvciBpIGluIHJhbmdlKGxlbihkYXRhKSkpCiAgICBlbHNlOgogICAgICAgIGRleG9yZWQgPSBieXRlcyhkYXRhW2ldIF4ga2V5W2kgJSBsZW4oa2V5KV0gZm9yIGkgaW4gcmFuZ2UobGVuKGRhdGEpKSkKICAgIHJldHVybiBkZXhvcmVkCgpkZWYgZXhwb3J0KHN5bWJvbCk6CiAgICBFWFBPUlRFRF9TWU1CT0xTW3N5bWJvbC5fX25hbWVfX10gPSBzeW1ib2wKICAgIHJldHVybiBzeW1ib2wKCmRlZiBnZW5lcmF0ZV9yZXF1ZXN0X2lkKCk6CiAgICBjaGFycyA9ICdhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicKICAgIHJldHVybiAnJy5qb2luKHJhbmRvbS5jaG9pY2UoY2hhcnMpIGZvciB4IGluIHJhbmdlKDMyKSkKCkBleHBvcnQKZGVmIGNtZF9pZF90b19zdHJpbmcodGhpc19pZCk6CiAgICBmb3IgdGhhdF9pZCwgdGhhdF9zdHJpbmcgaW4gQ09NTUFORF9JRFM6CiAgICAgICAgaWYgdGhpc19pZCA9PSB0aGF0X2lkOgogICAgICAgICAgICByZXR1cm4gdGhhdF9zdHJpbmcKICAgIGRlYnVnX3ByaW50KCdbKl0gZmFpbGVkIHRvIGxvb2t1cCBzdHJpbmcgZm9yIGNvbW1hbmQgaWQ6ICcgKyBzdHIodGhpc19pZCkpCiAgICByZXR1cm4gTm9uZQoKQGV4cG9ydApkZWYgY21kX3N0cmluZ190b19pZCh0aGlzX3N0cmluZyk6CiAgICBmb3IgdGhhdF9pZCwgdGhhdF9zdHJpbmcgaW4gQ09NTUFORF9JRFM6CiAgICAgICAgaWYgdGhpc19zdHJpbmcgPT0gdGhhdF9zdHJpbmc6CiAgICAgICAgICAgIHJldHVybiB0aGF0X2lkCiAgICBkZWJ1Z19wcmludCgnWypdIGZhaWxlZCB0byBsb29rdXAgaWQgZm9yIGNvbW1hbmQgc3RyaW5nOiAnICsgdGhpc19zdHJpbmcpCiAgICByZXR1cm4gTm9uZQoKQGV4cG9ydApkZWYgY3JjMTYoZGF0YSk6CiAgICBwb2x5ID0gMHgxMDIxCiAgICByZWcgPSAweDAwMDAKICAgIGlmIGlzX3N0cihkYXRhKToKICAgICAgICBkYXRhID0gbGlzdChtYXAob3JkLCBkYXRhKSkKICAgIGVsaWYgaXNfYnl0ZXMoZGF0YSk6CiAgICAgICAgZGF0YSA9IGxpc3QoZGF0YSkKICAgIGRhdGEuYXBwZW5kKDApCiAgICBkYXRhLmFwcGVuZCgwKQogICAgZm9yIGJ5dGUgaW4gZGF0YToKICAgICAgICBtYXNrID0gMHg4MAogICAgICAgIHdoaWxlIG1hc2sgPiAwOgogICAgICAgICAgICByZWcgPDw9IDEKICAgICAgICAgICAgaWYgYnl0ZSAmIG1hc2s6CiAgICAgICAgICAgICAgICByZWcgKz0gMQogICAgICAgICAgICBtYXNrID4+PSAxCiAgICAgICAgICAgIGlmIHJlZyA+IDB4ZmZmZjoKICAgICAgICAgICAgICAgIHJlZyAmPSAweGZmZmYKICAgICAgICAgICAgICAgIHJlZyBePSBwb2x5CiAgICByZXR1cm4gcmVnCgpAZXhwb3J0CmRlZiBkZWJ1Z19wcmludChtc2cpOgogICAgaWYgREVCVUdHSU5HOgogICAgICAgIHByaW50KG1zZykKCkBleHBvcnQKZGVmIGRlYnVnX3RyYWNlYmFjayhtc2c9Tm9uZSk6CiAgICBpZiBERUJVR0dJTkc6CiAgICAgICAgaWYgbXNnOgogICAgICAgICAgICBwcmludChtc2cpCiAgICAgICAgdHJhY2ViYWNrLnByaW50X2V4YyhmaWxlPXN5cy5zdGRlcnIpCgpAZXhwb3J0CmRlZiBlcnJvcl9yZXN1bHQoZXhjZXB0aW9uPU5vbmUpOgogICAgaWYgbm90IGV4Y2VwdGlvbjoKICAgICAgICBfLCBleGNlcHRpb24sIF8gPSBzeXMuZXhjX2luZm8oKQogICAgZXhjZXB0aW9uX2NyYyA9IGNyYzE2KGV4Y2VwdGlvbi5fX2NsYXNzX18uX19uYW1lX18pCiAgICBpZiBleGNlcHRpb25fY3JjID09IDB4NGNiMjogIyBXaW5kb3dzRXJyb3IKICAgICAgICByZXR1cm4gZXJyb3JfcmVzdWx0X3dpbmRvd3MoZXhjZXB0aW9uLmVycm5vKQogICAgZWxzZToKICAgICAgICByZXN1bHQgPSAoKGV4Y2VwdGlvbl9jcmMgPDwgMTYpIHwgRVJST1JfRkFJTFVSRV9QWVRIT04pCiAgICByZXR1cm4gcmVzdWx0CgpAZXhwb3J0CmRlZiBlcnJvcl9yZXN1bHRfd2luZG93cyhlcnJvcl9udW1iZXI9Tm9uZSk6CiAgICBpZiBub3QgaGFzX3dpbmRsbDoKICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRQogICAgaWYgZXJyb3JfbnVtYmVyID09IE5vbmU6CiAgICAgICAgZXJyb3JfbnVtYmVyID0gY3R5cGVzLndpbmRsbC5rZXJuZWwzMi5HZXRMYXN0RXJyb3IoKQogICAgaWYgZXJyb3JfbnVtYmVyID4gMHhmZmZmOgogICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFCiAgICByZXN1bHQgPSAoKGVycm9yX251bWJlciA8PCAxNikgfCBFUlJPUl9GQUlMVVJFX1dJTkRPV1MpCiAgICByZXR1cm4gcmVzdWx0CgpAZXhwb3J0CmRlZiBnZXRfaGRkX2xhYmVsKCk6CiAgICBmb3IgXywgXywgZmlsZXMgaW4gb3Mud2FsaygnL2Rldi9kaXNrL2J5LWlkLycpOgogICAgICAgIGZvciBmIGluIGZpbGVzOgogICAgICAgICAgICBmb3IgcCBpbiBbJ2F0YS0nLCAnbWItJ106CiAgICAgICAgICAgICAgICBpZiBmWzpsZW4ocCldID09IHA6CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZbbGVuKHApOl0KICAgIHJldHVybiAnJwoKQGV4cG9ydApkZWYgZ2V0X25hdGl2ZV9hcmNoKCk6CiAgICBhcmNoID0gZ2V0X3N5c3RlbV9hcmNoKCkKICAgIGlmIGFyY2ggPT0gJ3g2NCcgYW5kIGN0eXBlcy5zaXplb2YoY3R5cGVzLmNfdm9pZF9wKSA9PSA0OgogICAgICAgIGFyY2ggPSAneDg2JwogICAgcmV0dXJuIGFyY2gKCkBleHBvcnQKZGVmIGdldF9zeXN0ZW1fYXJjaCgpOgogICAgdW5hbWVfaW5mbyA9IHBsYXRmb3JtLnVuYW1lKCkKICAgIGFyY2ggPSB1bmFtZV9pbmZvWzRdCiAgICBpZiBoYXNfd2luZGxsOgogICAgICAgIHN5c2luZm8gPSBTWVNURU1fSU5GTygpCiAgICAgICAgY3R5cGVzLndpbmRsbC5rZXJuZWwzMi5HZXROYXRpdmVTeXN0ZW1JbmZvKGN0eXBlcy5ieXJlZihzeXNpbmZvKSkKICAgICAgICB2YWx1ZXMgPSB7MDoneDg2JywgNTonYXJtbGUnLCA2OidJQTY0JywgOToneDY0J30KICAgICAgICBhcmNoID0gdmFsdWVzLmdldChzeXNpbmZvLndQcm9jZXNzb3JBcmNoaXRlY3R1cmUsIHVuYW1lX2luZm9bNF0pCiAgICBpZiBhcmNoID09ICd4ODZfNjQnOgogICAgICAgIGFyY2ggPSAneDY0JwogICAgcmV0dXJuIGFyY2gKCkBleHBvcnQKZGVmIGluZXRfcHRvbihmYW1pbHksIGFkZHJlc3MpOgogICAgaWYgZmFtaWx5ID09IHNvY2tldC5BRl9JTkVUNiBhbmQgJyUnIGluIGFkZHJlc3M6CiAgICAgICAgYWRkcmVzcyA9IGFkZHJlc3Muc3BsaXQoJyUnLCAxKVswXQogICAgaWYgaGFzYXR0cihzb2NrZXQsICdpbmV0X3B0b24nKToKICAgICAgICByZXR1cm4gc29ja2V0LmluZXRfcHRvbihmYW1pbHksIGFkZHJlc3MpCiAgICBlbGlmIGhhc193aW5kbGw6CiAgICAgICAgV1NBU3RyaW5nVG9BZGRyZXNzID0gY3R5cGVzLndpbmRsbC53czJfMzIuV1NBU3RyaW5nVG9BZGRyZXNzQQogICAgICAgIGxwQWRkcmVzcyA9IChjdHlwZXMuY191Ynl0ZSAqIDI4KSgpCiAgICAgICAgbHBBZGRyZXNzTGVuZ3RoID0gY3R5cGVzLmNfaW50KGN0eXBlcy5zaXplb2YobHBBZGRyZXNzKSkKICAgICAgICBpZiBXU0FTdHJpbmdUb0FkZHJlc3MoYWRkcmVzcywgZmFtaWx5LCBOb25lLCBjdHlwZXMuYnlyZWYobHBBZGRyZXNzKSwgY3R5cGVzLmJ5cmVmKGxwQWRkcmVzc0xlbmd0aCkpICE9IDA6CiAgICAgICAgICAgIHJhaXNlIEV4Y2VwdGlvbignV1NBU3RyaW5nVG9BZGRyZXNzIGZhaWxlZCcpCiAgICAgICAgaWYgZmFtaWx5ID09IHNvY2tldC5BRl9JTkVUOgogICAgICAgICAgICByZXR1cm4gJycuam9pbihtYXAoY2hyLCBscEFkZHJlc3NbNDo4XSkpCiAgICAgICAgZWxpZiBmYW1pbHkgPT0gc29ja2V0LkFGX0lORVQ2OgogICAgICAgICAgICByZXR1cm4gJycuam9pbihtYXAoY2hyLCBscEFkZHJlc3NbODoyNF0pKQogICAgcmFpc2UgRXhjZXB0aW9uKCdubyBzdWl0YWJsZSBpbmV0X3B0b24gZnVuY3Rpb25hbGl0eSBpcyBhdmFpbGFibGUnKQoKQGV4cG9ydApkZWYgcGFja2V0X2VudW1fdGx2cyhwa3QsIHRsdl90eXBlPU5vbmUpOgogICAgb2Zmc2V0ID0gMAogICAgd2hpbGUgb2Zmc2V0IDwgbGVuKHBrdCk6CiAgICAgICAgdGx2ID0gc3RydWN0LnVucGFjaygnPklJJywgcGt0W29mZnNldDpvZmZzZXQgKyA4XSkKICAgICAgICBpZiB0bHZfdHlwZSBpcyBOb25lIG9yICh0bHZbMV0gJiB+VExWX01FVEFfVFlQRV9DT01QUkVTU0VEKSA9PSB0bHZfdHlwZToKICAgICAgICAgICAgdmFsID0gcGt0W29mZnNldCArIDg6KG9mZnNldCArIDggKyAodGx2WzBdIC0gOCkpXQogICAgICAgICAgICBpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9TVFJJTkcpID09IFRMVl9NRVRBX1RZUEVfU1RSSU5HOgogICAgICAgICAgICAgICAgdmFsID0gc3RyKHZhbC5zcGxpdChOVUxMX0JZVEUsIDEpWzBdKQogICAgICAgICAgICBlbGlmICh0bHZbMV0gJiBUTFZfTUVUQV9UWVBFX1VJTlQpID09IFRMVl9NRVRBX1RZUEVfVUlOVDoKICAgICAgICAgICAgICAgIHZhbCA9IHN0cnVjdC51bnBhY2soJz5JJywgdmFsKVswXQogICAgICAgICAgICBlbGlmICh0bHZbMV0gJiBUTFZfTUVUQV9UWVBFX1FXT1JEKSA9PSBUTFZfTUVUQV9UWVBFX1FXT1JEOgogICAgICAgICAgICAgICAgdmFsID0gc3RydWN0LnVucGFjaygnPlEnLCB2YWwpWzBdCiAgICAgICAgICAgIGVsaWYgKHRsdlsxXSAmIFRMVl9NRVRBX1RZUEVfQk9PTCkgPT0gVExWX01FVEFfVFlQRV9CT09MOgogICAgICAgICAgICAgICAgdmFsID0gYm9vbChzdHJ1Y3QudW5wYWNrKCdiJywgdmFsKVswXSkKICAgICAgICAgICAgZWxpZiAodGx2WzFdICYgVExWX01FVEFfVFlQRV9SQVcpID09IFRMVl9NRVRBX1RZUEVfUkFXOgogICAgICAgICAgICAgICAgcGFzcwogICAgICAgICAgICB5aWVsZCB7J3R5cGUnOiB0bHZbMV0sICdsZW5ndGgnOiB0bHZbMF0sICd2YWx1ZSc6IHZhbH0KICAgICAgICBvZmZzZXQgKz0gdGx2WzBdCiAgICByZXR1cm4KCkBleHBvcnQKZGVmIHBhY2tldF9nZXRfdGx2KHBrdCwgdGx2X3R5cGUpOgogICAgdHJ5OgogICAgICAgIHRsdiA9IGxpc3QocGFja2V0X2VudW1fdGx2cyhwa3QsIHRsdl90eXBlKSlbMF0KICAgIGV4Y2VwdCBJbmRleEVycm9yOgogICAgICAgIHJldHVybiB7fQogICAgcmV0dXJuIHRsdgoKQGV4cG9ydApkZWYgdGx2X3BhY2soKmFyZ3MpOgogICAgaWYgbGVuKGFyZ3MpID09IDI6CiAgICAgICAgdGx2ID0geyd0eXBlJzphcmdzWzBdLCAndmFsdWUnOmFyZ3NbMV19CiAgICBlbHNlOgogICAgICAgIHRsdiA9IGFyZ3NbMF0KICAgIGRhdGEgPSAnJwogICAgdmFsdWUgPSB0bHZbJ3ZhbHVlJ10KICAgIGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfVUlOVCkgPT0gVExWX01FVEFfVFlQRV9VSU5UOgogICAgICAgIGlmIGlzaW5zdGFuY2UodmFsdWUsIGZsb2F0KToKICAgICAgICAgICAgdmFsdWUgPSBpbnQocm91bmQodmFsdWUpKQogICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJSScsIDEyLCB0bHZbJ3R5cGUnXSwgdmFsdWUpCiAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfUVdPUkQpID09IFRMVl9NRVRBX1RZUEVfUVdPUkQ6CiAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUlRJywgMTYsIHRsdlsndHlwZSddLCB2YWx1ZSkKICAgIGVsaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9CT09MKSA9PSBUTFZfTUVUQV9UWVBFX0JPT0w6CiAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA5LCB0bHZbJ3R5cGUnXSkgKyBieXRlcyhjaHIoaW50KGJvb2wodmFsdWUpKSksICdVVEYtOCcpCiAgICBlbHNlOgogICAgICAgIGlmIHN5cy52ZXJzaW9uX2luZm9bMF0gPCAzIGFuZCB2YWx1ZS5fX2NsYXNzX18uX19uYW1lX18gPT0gJ3VuaWNvZGUnOgogICAgICAgICAgICB2YWx1ZSA9IHZhbHVlLmVuY29kZSgnVVRGLTgnKQogICAgICAgIGVsaWYgbm90IGlzX2J5dGVzKHZhbHVlKToKICAgICAgICAgICAgdmFsdWUgPSBieXRlcyh2YWx1ZSwgJ1VURi04JykKICAgICAgICBpZiAodGx2Wyd0eXBlJ10gJiBUTFZfTUVUQV9UWVBFX1NUUklORykgPT0gVExWX01FVEFfVFlQRV9TVFJJTkc6CiAgICAgICAgICAgIGRhdGEgPSBzdHJ1Y3QucGFjaygnPklJJywgOCArIGxlbih2YWx1ZSkgKyAxLCB0bHZbJ3R5cGUnXSkgKyB2YWx1ZSArIE5VTExfQllURQogICAgICAgIGVsaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9SQVcpID09IFRMVl9NRVRBX1RZUEVfUkFXOgogICAgICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSScsIDggKyBsZW4odmFsdWUpLCB0bHZbJ3R5cGUnXSkgKyB2YWx1ZQogICAgICAgIGVsaWYgKHRsdlsndHlwZSddICYgVExWX01FVEFfVFlQRV9HUk9VUCkgPT0gVExWX01FVEFfVFlQRV9HUk9VUDoKICAgICAgICAgICAgZGF0YSA9IHN0cnVjdC5wYWNrKCc+SUknLCA4ICsgbGVuKHZhbHVlKSwgdGx2Wyd0eXBlJ10pICsgdmFsdWUKICAgICAgICBlbGlmICh0bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfQ09NUExFWCkgPT0gVExWX01FVEFfVFlQRV9DT01QTEVYOgogICAgICAgICAgICBkYXRhID0gc3RydWN0LnBhY2soJz5JSScsIDggKyBsZW4odmFsdWUpLCB0bHZbJ3R5cGUnXSkgKyB2YWx1ZQogICAgcmV0dXJuIGRhdGEKCkBleHBvcnQKZGVmIHRsdl9wYWNrX3JlcXVlc3QobWV0aG9kLCBwYXJ0cz1Ob25lKToKICAgIHBrdCAgPSBzdHJ1Y3QucGFjaygnPkknLCBQQUNLRVRfVFlQRV9SRVFVRVNUKQogICAgcGt0ICs9IHRsdl9wYWNrKFRMVl9UWVBFX0NPTU1BTkRfSUQsIGNtZF9zdHJpbmdfdG9faWQobWV0aG9kKSkKICAgIHBrdCArPSB0bHZfcGFjayhUTFZfVFlQRV9VVUlELCBiaW5hc2NpaS5hMmJfaGV4KGJ5dGVzKFBBWUxPQURfVVVJRCwgJ1VURi04JykpKQogICAgcGt0ICs9IHRsdl9wYWNrKFRMVl9UWVBFX1JFUVVFU1RfSUQsIGdlbmVyYXRlX3JlcXVlc3RfaWQoKSkKICAgIHBhcnRzID0gcGFydHMgb3IgW10KICAgIGZvciBwYXJ0IGluIHBhcnRzOgogICAgICAgIHBrdCArPSB0bHZfcGFjayhwYXJ0Wyd0eXBlJ10sIHBhcnRbJ3ZhbHVlJ10pCiAgICByZXR1cm4gcGt0CgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlckNoYW5uZWwob2JqZWN0KToKICAgIGRlZiBjb3JlX2Nsb3NlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBzZWxmLmNsb3NlKCkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgY29yZV9lb2Yoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0JPT0wsIHNlbGYuZW9mKCkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfcmVhZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgbGVuZ3RoID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfTEVOR1RIKVsndmFsdWUnXQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX0NIQU5ORUxfREFUQSwgc2VsZi5yZWFkKGxlbmd0aCkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfd3JpdGUoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfZGF0YSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfREFUQSlbJ3ZhbHVlJ10KICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9MRU5HVEgsIHNlbGYud3JpdGUoY2hhbm5lbF9kYXRhKSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgY29yZV9zZWVrKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBvZmZzZXQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9TRUVLX09GRlNFVClbJ3ZhbHVlJ10KICAgICAgICB3aGVuY2UgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9TRUVLX1dIRU5DRSlbJ3ZhbHVlJ10KICAgICAgICBzZWxmLnNlZWsob2Zmc2V0LCB3aGVuY2UpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIGNvcmVfdGVsbChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfU0VFS19QT1MsIHNlbGYudGVsbCgpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBjbG9zZShzZWxmKToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCkKCiAgICBkZWYgZW9mKHNlbGYpOgogICAgICAgIHJldHVybiBGYWxzZQoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBub3RpZnkoc2VsZik6CiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJhaXNlIE5vdEltcGxlbWVudGVkRXJyb3IoKQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICByYWlzZSBOb3RJbXBsZW1lbnRlZEVycm9yKCkKCiAgICBkZWYgc2VlayhzZWxmLCBvZmZzZXQsIHdoZW5jZT1vcy5TRUVLX1NFVCk6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgogICAgZGVmIHRlbGwoc2VsZik6CiAgICAgICAgcmFpc2UgTm90SW1wbGVtZW50ZWRFcnJvcigpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlckZpbGUoTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBmaWxlX29iaik6CiAgICAgICAgc2VsZi5maWxlX29iaiA9IGZpbGVfb2JqCiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJGaWxlLCBzZWxmKS5fX2luaXRfXygpCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHNlbGYuZmlsZV9vYmouY2xvc2UoKQoKICAgIGRlZiBlb2Yoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuZmlsZV9vYmoudGVsbCgpID49IG9zLmZzdGF0KHNlbGYuZmlsZV9vYmouZmlsZW5vKCkpLnN0X3NpemUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJldHVybiBzZWxmLmZpbGVfb2JqLnJlYWQobGVuZ3RoKQoKICAgIGRlZiB3cml0ZShzZWxmLCBkYXRhKToKICAgICAgICBzZWxmLmZpbGVfb2JqLndyaXRlKGRhdGEpCiAgICAgICAgcmV0dXJuIGxlbihkYXRhKQoKICAgIGRlZiBzZWVrKHNlbGYsIG9mZnNldCwgd2hlbmNlPW9zLlNFRUtfU0VUKToKICAgICAgICBzZWxmLmZpbGVfb2JqLnNlZWsob2Zmc2V0LCB3aGVuY2UpCgogICAgZGVmIHRlbGwoc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuZmlsZV9vYmoudGVsbCgpCmV4cG9ydChNZXRlcnByZXRlckZpbGUpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclByb2Nlc3MoTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBwcm9jX2gpOgogICAgICAgIHNlbGYucHJvY19oID0gcHJvY19oCiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJQcm9jZXNzLCBzZWxmKS5fX2luaXRfXygpCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIGlmIHNlbGYucHJvY19oLnBvbGwoKSBpcyBOb25lOgogICAgICAgICAgICBzZWxmLnByb2NfaC5raWxsKCkKICAgICAgICBpZiBzZWxmLnByb2NfaC5wdHlmZCBpcyBub3QgTm9uZToKICAgICAgICAgICAgb3MuY2xvc2Uoc2VsZi5wcm9jX2gucHR5ZmQpCiAgICAgICAgICAgIHNlbGYucHJvY19oLnB0eWZkID0gTm9uZQogICAgICAgIGZvciBzdHJlYW0gaW4gKHNlbGYucHJvY19oLnN0ZGluLCBzZWxmLnByb2NfaC5zdGRvdXQsIHNlbGYucHJvY19oLnN0ZGVycik6CiAgICAgICAgICAgIGlmIG5vdCBoYXNhdHRyKHN0cmVhbSwgJ2Nsb3NlJyk6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBzdHJlYW0uY2xvc2UoKQogICAgICAgICAgICBleGNlcHQgKElPRXJyb3IsIE9TRXJyb3IpOgogICAgICAgICAgICAgICAgcGFzcwoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5wcm9jX2gucG9sbCgpIGlzIE5vbmUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIGRhdGEgPSAnJwogICAgICAgIHN0ZG91dF9yZWFkZXIgPSBzZWxmLnByb2NfaC5zdGRvdXRfcmVhZGVyCiAgICAgICAgaWYgc3Rkb3V0X3JlYWRlci5pc19yZWFkX3JlYWR5KCk6CiAgICAgICAgICAgIGRhdGEgPSBzdGRvdXRfcmVhZGVyLnJlYWQobGVuZ3RoKQogICAgICAgIHJldHVybiBkYXRhCgogICAgZGVmIHdyaXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHNlbGYucHJvY19oLndyaXRlKGRhdGEpCiAgICAgICAgcmV0dXJuIGxlbihkYXRhKQpleHBvcnQoTWV0ZXJwcmV0ZXJQcm9jZXNzKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJTb2NrZXQoTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzb2NrKToKICAgICAgICBzZWxmLnNvY2sgPSBzb2NrCiAgICAgICAgc2VsZi5faXNfYWxpdmUgPSBUcnVlCiAgICAgICAgc3VwZXIoTWV0ZXJwcmV0ZXJTb2NrZXQsIHNlbGYpLl9faW5pdF9fKCkKCiAgICBkZWYgY29yZV93cml0ZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gc3VwZXIoTWV0ZXJwcmV0ZXJTb2NrZXQsIHNlbGYpLmNvcmVfd3JpdGUocmVxdWVzdCwgcmVzcG9uc2UpCiAgICAgICAgZXhjZXB0IHNvY2tldC5lcnJvcjoKICAgICAgICAgICAgc2VsZi5jbG9zZSgpCiAgICAgICAgICAgIHNlbGYuX2lzX2FsaXZlID0gRmFsc2UKICAgICAgICAgICAgc3RhdHVzID0gRVJST1JfRkFJTFVSRQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIGNsb3NlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2suY2xvc2UoKQoKICAgIGRlZiBmaWxlbm8oc2VsZik6CiAgICAgICAgcmV0dXJuIHNlbGYuc29jay5maWxlbm8oKQoKICAgIGRlZiBpc19hbGl2ZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5faXNfYWxpdmUKCiAgICBkZWYgcmVhZChzZWxmLCBsZW5ndGgpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2sucmVjdihsZW5ndGgpCgogICAgZGVmIHdyaXRlKHNlbGYsIGRhdGEpOgogICAgICAgIHJldHVybiBzZWxmLnNvY2suc2VuZChkYXRhKQpleHBvcnQoTWV0ZXJwcmV0ZXJTb2NrZXQpCgojQGV4cG9ydApjbGFzcyBNZXRlcnByZXRlclNvY2tldFRDUENsaWVudChNZXRlcnByZXRlclNvY2tldCk6CiAgICBwYXNzCmV4cG9ydChNZXRlcnByZXRlclNvY2tldFRDUENsaWVudCkKCiNAZXhwb3J0CmNsYXNzIE1ldGVycHJldGVyU29ja2V0VENQU2VydmVyKE1ldGVycHJldGVyU29ja2V0KToKICAgIHBhc3MKZXhwb3J0KE1ldGVycHJldGVyU29ja2V0VENQU2VydmVyKQoKI0BleHBvcnQKY2xhc3MgTWV0ZXJwcmV0ZXJTb2NrZXRVRFBDbGllbnQoTWV0ZXJwcmV0ZXJTb2NrZXQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHNvY2ssIHBlZXJfYWRkcmVzcz1Ob25lKToKICAgICAgICBzdXBlcihNZXRlcnByZXRlclNvY2tldFVEUENsaWVudCwgc2VsZikuX19pbml0X18oc29jaykKICAgICAgICBzZWxmLnBlZXJfYWRkcmVzcyA9IHBlZXJfYWRkcmVzcwoKICAgIGRlZiBjb3JlX3dyaXRlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBwZWVyX2hvc3QgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9QRUVSX0hPU1QpLmdldCgndmFsdWUnKQogICAgICAgIHBlZXJfcG9ydCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1BFRVJfUE9SVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgcGVlcl9ob3N0IGFuZCBwZWVyX3BvcnQ6CiAgICAgICAgICAgIHBlZXJfYWRkcmVzcyA9IChwZWVyX2hvc3QsIHBlZXJfcG9ydCkKICAgICAgICBlbGlmIHNlbGYucGVlcl9hZGRyZXNzOgogICAgICAgICAgICBwZWVyX2FkZHJlc3MgPSBzZWxmLnBlZXJfYWRkcmVzcwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJhaXNlIFJ1bnRpbWVFcnJvcigncGVlcl9ob3N0IGFuZCBwZWVyX3BvcnQgbXVzdCBiZSBzcGVjaWZpZWQgd2l0aCBhbiB1bmJvdW5kL3VuY29ubmVjdGVkIFVEUCBjaGFubmVsJykKICAgICAgICBjaGFubmVsX2RhdGEgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0RBVEEpWyd2YWx1ZSddCiAgICAgICAgdHJ5OgogICAgICAgICAgICBsZW5ndGggPSBzZWxmLnNvY2suc2VuZHRvKGNoYW5uZWxfZGF0YSwgcGVlcl9hZGRyZXNzKQogICAgICAgIGV4Y2VwdCBzb2NrZXQuZXJyb3I6CiAgICAgICAgICAgIHNlbGYuY2xvc2UoKQogICAgICAgICAgICBzZWxmLl9pc19hbGl2ZSA9IEZhbHNlCiAgICAgICAgICAgIHN0YXR1cyA9IEVSUk9SX0ZBSUxVUkUKICAgICAgICBlbHNlOgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9MRU5HVEgsIGxlbmd0aCkKICAgICAgICAgICAgc3RhdHVzID0gRVJST1JfU1VDQ0VTUwogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIHJlYWQoc2VsZiwgbGVuZ3RoKToKICAgICAgICByZXR1cm4gc2VsZi5zb2NrLnJlY3Zmcm9tKGxlbmd0aClbMF0KCiAgICBkZWYgd3JpdGUoc2VsZiwgZGF0YSk6CiAgICAgICAgc2VsZi5zb2NrLnNlbmR0byhkYXRhLCBzZWxmLnBlZXJfYWRkcmVzcykKZXhwb3J0KE1ldGVycHJldGVyU29ja2V0VURQQ2xpZW50KQoKY2xhc3MgU1REUHJvY2Vzc0J1ZmZlcih0aHJlYWRpbmcuVGhyZWFkKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGQsIGlzX2FsaXZlLCBuYW1lPU5vbmUpOgogICAgICAgIHRocmVhZGluZy5UaHJlYWQuX19pbml0X18oc2VsZiwgbmFtZT1uYW1lIG9yIHNlbGYuX19jbGFzc19fLl9fbmFtZV9fKQogICAgICAgIHNlbGYuc3RkID0gc3RkCiAgICAgICAgc2VsZi5pc19hbGl2ZSA9IGlzX2FsaXZlCiAgICAgICAgc2VsZi5kYXRhID0gYnl0ZXMoKQogICAgICAgIHNlbGYuZGF0YV9sb2NrID0gdGhyZWFkaW5nLlJMb2NrKCkKCiAgICBkZWYgX3JlYWQxKHNlbGYpOgogICAgICAgIHRyeToKICAgICAgICAgICAgcmV0dXJuIHNlbGYuc3RkLnJlYWQoMSkKICAgICAgICBleGNlcHQgKElPRXJyb3IsIE9TRXJyb3IpOgogICAgICAgICAgICByZXR1cm4gYnl0ZXMoKQoKICAgIGRlZiBydW4oc2VsZik6CiAgICAgICAgYnl0ZSA9IHNlbGYuX3JlYWQxKCkKICAgICAgICB3aGlsZSBsZW4oYnl0ZSk6CiAgICAgICAgICAgIHNlbGYuZGF0YV9sb2NrLmFjcXVpcmUoKQogICAgICAgICAgICBzZWxmLmRhdGEgKz0gYnl0ZQogICAgICAgICAgICBzZWxmLmRhdGFfbG9jay5yZWxlYXNlKCkKICAgICAgICAgICAgYnl0ZSA9IHNlbGYuX3JlYWQxKCkKCiAgICBkZWYgaXNfcmVhZF9yZWFkeShzZWxmKToKICAgICAgICByZXR1cm4gbGVuKHNlbGYuZGF0YSkgIT0gMAoKICAgIGRlZiBwZWVrKHNlbGYsIGwgPSBOb25lKToKICAgICAgICBkYXRhID0gYnl0ZXMoKQogICAgICAgIHNlbGYuZGF0YV9sb2NrLmFjcXVpcmUoKQogICAgICAgIGlmIGwgPT0gTm9uZToKICAgICAgICAgICAgZGF0YSA9IHNlbGYuZGF0YQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGRhdGEgPSBzZWxmLmRhdGFbMDpsXQogICAgICAgIHNlbGYuZGF0YV9sb2NrLnJlbGVhc2UoKQogICAgICAgIHJldHVybiBkYXRhCgogICAgZGVmIHJlYWQoc2VsZiwgbCA9IE5vbmUpOgogICAgICAgIHNlbGYuZGF0YV9sb2NrLmFjcXVpcmUoKQogICAgICAgIGRhdGEgPSBzZWxmLnBlZWsobCkKICAgICAgICBzZWxmLmRhdGEgPSBzZWxmLmRhdGFbbGVuKGRhdGEpOl0KICAgICAgICBzZWxmLmRhdGFfbG9jay5yZWxlYXNlKCkKICAgICAgICByZXR1cm4gZGF0YQoKI0BleHBvcnQKY2xhc3MgU1REUHJvY2VzcyhzdWJwcm9jZXNzLlBvcGVuKToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpOgogICAgICAgIGRlYnVnX3ByaW50KCdbKl0gc3RhcnRpbmcgcHJvY2VzczogJyArIHJlcHIoYXJnc1swXSkpCiAgICAgICAgc3VicHJvY2Vzcy5Qb3Blbi5fX2luaXRfXyhzZWxmLCAqYXJncywgKiprd2FyZ3MpCiAgICAgICAgc2VsZi5lY2hvX3Byb3RlY3Rpb24gPSBGYWxzZQogICAgICAgIHNlbGYucHR5ZmQgPSBOb25lCgogICAgZGVmIGlzX2FsaXZlKHNlbGYpOgogICAgICAgIHJldHVybiBzZWxmLnBvbGwoKSBpcyBOb25lCgogICAgZGVmIHN0YXJ0KHNlbGYpOgogICAgICAgIHNlbGYuc3Rkb3V0X3JlYWRlciA9IFNURFByb2Nlc3NCdWZmZXIoc2VsZi5zdGRvdXQsIHNlbGYuaXNfYWxpdmUsIG5hbWU9J1NURFByb2Nlc3NCdWZmZXIuc3Rkb3V0JykKICAgICAgICBzZWxmLnN0ZG91dF9yZWFkZXIuc3RhcnQoKQogICAgICAgIHNlbGYuc3RkZXJyX3JlYWRlciA9IFNURFByb2Nlc3NCdWZmZXIoc2VsZi5zdGRlcnIsIHNlbGYuaXNfYWxpdmUsIG5hbWU9J1NURFByb2Nlc3NCdWZmZXIuc3RkZXJyJykKICAgICAgICBzZWxmLnN0ZGVycl9yZWFkZXIuc3RhcnQoKQoKICAgIGRlZiB3cml0ZShzZWxmLCBjaGFubmVsX2RhdGEpOgogICAgICAgIGxlbmd0aCA9IHNlbGYuc3RkaW4ud3JpdGUoY2hhbm5lbF9kYXRhKQogICAgICAgIHNlbGYuc3RkaW4uZmx1c2goKQogICAgICAgIGlmIHNlbGYuZWNob19wcm90ZWN0aW9uOgogICAgICAgICAgICBlbmRfdGltZSA9IHRpbWUudGltZSgpICsgMC41CiAgICAgICAgICAgIG91dF9kYXRhID0gYnl0ZXMoKQogICAgICAgICAgICB3aGlsZSAodGltZS50aW1lKCkgPCBlbmRfdGltZSkgYW5kIChvdXRfZGF0YSAhPSBjaGFubmVsX2RhdGEpOgogICAgICAgICAgICAgICAgaWYgc2VsZi5zdGRvdXRfcmVhZGVyLmlzX3JlYWRfcmVhZHkoKToKICAgICAgICAgICAgICAgICAgICBvdXRfZGF0YSA9IHNlbGYuc3Rkb3V0X3JlYWRlci5wZWVrKGxlbihjaGFubmVsX2RhdGEpKQogICAgICAgICAgICBpZiBvdXRfZGF0YSA9PSBjaGFubmVsX2RhdGE6CiAgICAgICAgICAgICAgICBzZWxmLnN0ZG91dF9yZWFkZXIucmVhZChsZW4oY2hhbm5lbF9kYXRhKSkKICAgICAgICByZXR1cm4gbGVuZ3RoCmV4cG9ydChTVERQcm9jZXNzKQoKY2xhc3MgVHJhbnNwb3J0KG9iamVjdCk6CiAgICBkZWYgX19pbml0X18oc2VsZik6CiAgICAgICAgc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQgPSBTRVNTSU9OX0NPTU1VTklDQVRJT05fVElNRU9VVAogICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ID0gMAogICAgICAgIHNlbGYucmV0cnlfdG90YWwgPSBTRVNTSU9OX1JFVFJZX1RPVEFMCiAgICAgICAgc2VsZi5yZXRyeV93YWl0ID0gU0VTU0lPTl9SRVRSWV9XQUlUCiAgICAgICAgc2VsZi5yZXF1ZXN0X3JldGlyZSA9IEZhbHNlCiAgICAgICAgc2VsZi5hZXNfZW5hYmxlZCA9IEZhbHNlCiAgICAgICAgc2VsZi5hZXNfa2V5ID0gTm9uZQoKICAgIGRlZiBfX3JlcHJfXyhzZWxmKToKICAgICAgICByZXR1cm4gIjx7MH0gdXJsPSd7MX0nID4iLmZvcm1hdChzZWxmLl9fY2xhc3NfXy5fX25hbWVfXywgc2VsZi51cmwpCgogICAgQHByb3BlcnR5CiAgICBkZWYgY29tbXVuaWNhdGlvbl9oYXNfZXhwaXJlZChzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5jb21tdW5pY2F0aW9uX2xhc3QgKyBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dCA8IHRpbWUudGltZSgpCgogICAgQHByb3BlcnR5CiAgICBkZWYgc2hvdWxkX3JldGlyZShzZWxmKToKICAgICAgICByZXR1cm4gc2VsZi5jb21tdW5pY2F0aW9uX2hhc19leHBpcmVkIG9yIHNlbGYucmVxdWVzdF9yZXRpcmUKCiAgICBAc3RhdGljbWV0aG9kCiAgICBkZWYgZnJvbV9yZXF1ZXN0KHJlcXVlc3QpOgogICAgICAgIHVybCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1VSTClbJ3ZhbHVlJ10KICAgICAgICBpZiB1cmwuc3RhcnRzd2l0aCgndGNwJyk6CiAgICAgICAgICAgIHRyYW5zcG9ydCA9IFRjcFRyYW5zcG9ydCh1cmwpCiAgICAgICAgZWxpZiB1cmwuc3RhcnRzd2l0aCgnaHR0cCcpOgogICAgICAgICAgICBwcm94eSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1BST1hZX0hPU1QpLmdldCgndmFsdWUnKQogICAgICAgICAgICB1c2VyX2FnZW50ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfVUEpLmdldCgndmFsdWUnLCBIVFRQX1VTRVJfQUdFTlQpCiAgICAgICAgICAgIGh0dHBfaGVhZGVycyA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX0hFQURFUlMpLmdldCgndmFsdWUnLCBOb25lKQogICAgICAgICAgICB0cmFuc3BvcnQgPSBIdHRwVHJhbnNwb3J0KHVybCwgcHJveHk9cHJveHksIHVzZXJfYWdlbnQ9dXNlcl9hZ2VudCkKICAgICAgICAgICAgaWYgaHR0cF9oZWFkZXJzOgogICAgICAgICAgICAgICAgaGVhZGVycyA9IHt9CiAgICAgICAgICAgICAgICBmb3IgaCBpbiBodHRwX2hlYWRlcnMuc3RyaXAoKS5zcGxpdCgiXHJcbiIpOgogICAgICAgICAgICAgICAgICAgIHAgPSBoLnNwbGl0KCc6JykKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzW3BbMF0udXBwZXIoKV0gPSAnJy5qb2luKHBbMTowXSkKICAgICAgICAgICAgICAgIGh0dHBfaG9zdCA9IGhlYWRlcnMuZ2V0KCdIT1NUJykKICAgICAgICAgICAgICAgIGh0dHBfY29va2llID0gaGVhZGVycy5nZXQoJ0NPT0tJRScpCiAgICAgICAgICAgICAgICBodHRwX3JlZmVyZXIgPSBoZWFkZXJzLmdldCgnUkVGRVJFUicpCiAgICAgICAgICAgICAgICB0cmFuc3BvcnQgPSBIdHRwVHJhbnNwb3J0KHVybCwgcHJveHk9cHJveHksIHVzZXJfYWdlbnQ9dXNlcl9hZ2VudCwgaHR0cF9ob3N0PWh0dHBfaG9zdCwKICAgICAgICAgICAgICAgICAgICAgICAgaHR0cF9jb29raWU9aHR0cF9jb29raWUsIGh0dHBfcmVmZXJlcj1odHRwX3JlZmVyZXIpCiAgICAgICAgdHJhbnNwb3J0LmNvbW11bmljYXRpb25fdGltZW91dCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVCkuZ2V0KCd2YWx1ZScsIFNFU1NJT05fQ09NTVVOSUNBVElPTl9USU1FT1VUKQogICAgICAgIHRyYW5zcG9ydC5yZXRyeV90b3RhbCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1JFVFJZX1RPVEFMKS5nZXQoJ3ZhbHVlJywgU0VTU0lPTl9SRVRSWV9UT1RBTCkKICAgICAgICB0cmFuc3BvcnQucmV0cnlfd2FpdCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1JFVFJZX1dBSVQpLmdldCgndmFsdWUnLCBTRVNTSU9OX1JFVFJZX1dBSVQpCiAgICAgICAgcmV0dXJuIHRyYW5zcG9ydAoKICAgIGRlZiBfYWN0aXZhdGUoc2VsZik6CiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgYWN0aXZhdGUoc2VsZik6CiAgICAgICAgc2VsZi5hZXNfa2V5ID0gTm9uZQogICAgICAgIHNlbGYuYWVzX2VuYWJsZWQgPSBGYWxzZQogICAgICAgIGVuZF90aW1lID0gdGltZS50aW1lKCkgKyBzZWxmLnJldHJ5X3RvdGFsCiAgICAgICAgd2hpbGUgdGltZS50aW1lKCkgPCBlbmRfdGltZToKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgYWN0aXZhdGVfc3VjY2VlZGVkID0gc2VsZi5fYWN0aXZhdGUoKQogICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICBhY3RpdmF0ZV9zdWNjZWVkZWQgPSBGYWxzZQogICAgICAgICAgICBpZiBhY3RpdmF0ZV9zdWNjZWVkZWQ6CiAgICAgICAgICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IHRpbWUudGltZSgpCiAgICAgICAgICAgICAgICByZXR1cm4gVHJ1ZQogICAgICAgICAgICB0aW1lLnNsZWVwKHNlbGYucmV0cnlfd2FpdCkKICAgICAgICByZXR1cm4gRmFsc2UKCiAgICBkZWYgX2RlYWN0aXZhdGUoc2VsZik6CiAgICAgICAgcmV0dXJuCgogICAgZGVmIGRlYWN0aXZhdGUoc2VsZik6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLl9kZWFjdGl2YXRlKCkKICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIHBhc3MKICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IDAKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBkZWNyeXB0X3BhY2tldChzZWxmLCBwa3QpOgogICAgICAgIGlmIHBrdCBhbmQgbGVuKHBrdCkgPiBQQUNLRVRfSEVBREVSX1NJWkU6CiAgICAgICAgICAgIHhvcl9rZXkgPSBzdHJ1Y3QudW5wYWNrKCdCQkJCJywgcGt0WzpQQUNLRVRfWE9SX0tFWV9TSVpFXSkKICAgICAgICAgICAgcmF3ID0geG9yX2J5dGVzKHhvcl9rZXksIHBrdCkKICAgICAgICAgICAgZW5jX29mZnNldCA9IFBBQ0tFVF9YT1JfS0VZX1NJWkUgKyBQQUNLRVRfU0VTU0lPTl9HVUlEX1NJWkUKICAgICAgICAgICAgZW5jX2ZsYWcgPSBzdHJ1Y3QudW5wYWNrKCc+SScsIHJhd1tlbmNfb2Zmc2V0OmVuY19vZmZzZXQrUEFDS0VUX0VOQ1JZUFRfRkxBR19TSVpFXSlbMF0KICAgICAgICAgICAgaWYgZW5jX2ZsYWcgPT0gRU5DX0FFUzI1NjoKICAgICAgICAgICAgICAgIGl2ID0gcmF3W1BBQ0tFVF9IRUFERVJfU0laRTpQQUNLRVRfSEVBREVSX1NJWkUrMTZdCiAgICAgICAgICAgICAgICBlbmNyeXB0ZWQgPSByYXdbUEFDS0VUX0hFQURFUl9TSVpFK2xlbihpdik6XQogICAgICAgICAgICAgICAgcmV0dXJuIG1ldF9hZXNfZGVjcnlwdChzZWxmLmFlc19rZXksIGl2LCBlbmNyeXB0ZWQpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICByZXR1cm4gcmF3W1BBQ0tFVF9IRUFERVJfU0laRTpdCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgZ2V0X3BhY2tldChzZWxmKToKICAgICAgICBzZWxmLnJlcXVlc3RfcmV0aXJlID0gRmFsc2UKICAgICAgICB0cnk6CiAgICAgICAgICAgIHBrdCA9IHNlbGYuZGVjcnlwdF9wYWNrZXQoc2VsZi5fZ2V0X3BhY2tldCgpKQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCkKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBpZiBwa3QgaXMgTm9uZToKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IHRpbWUudGltZSgpCiAgICAgICAgcmV0dXJuIHBrdAoKICAgIGRlZiBlbmNyeXB0X3BhY2tldChzZWxmLCBwa3QpOgogICAgICAgICMgVGhlIHBhY2tldCBub3cgaGFzIHRvIGNvbnRhaW4gc2Vzc2lvbiBHVUlEIGFuZCBlbmNyeXB0aW9uIGZsYWcgaW5mbwogICAgICAgICMgQW5kIGdpdmVuIHRoYXQgd2UncmUgbm90IHlldCBzdXBwb3J0aW5nIEFFUywgd2UncmUgZ29pbmcgdG8ganVzdAogICAgICAgICMgYWx3YXlzIHJldHVybiB0aGUgc2Vzc2lvbiBndWlkIGFuZCB0aGUgZW5jcnlwdGlvbiBmbGFnIHNldCB0byAwCiAgICAgICAgZW5jX3R5cGUgPSBFTkNfTk9ORQogICAgICAgIGlmIHNlbGYuYWVzX2tleToKICAgICAgICAgICAgIyBUaGUgZW5jcnlwdGlvbiBrZXkgaXMgcHJlc2VudCwgYnV0IHdlIHNob3VsZCBvbmx5IHVzZWQgdGhlIGtleQogICAgICAgICAgICAjIHdoZW4gaXQgaXMgZW5hYmxlZC4gSWYgd2UgdXNlIGl0IGJlZm9yZSBpdCdzIGVuYWJsZWQsIHRoZW4gd2UKICAgICAgICAgICAgIyBlbmQgdXAgZW5jcnlwdGluZyB0aGUgcGFja2V0IHRoYXQgY29udGFpbnMgdGhlIGtleSBiZWZvcmUKICAgICAgICAgICAgIyBzZW5kaW5nIGl0IGJhY2sgdG8gTVNGLCBhbmQgaXQgd29uJ3QgYmUgYWJsZSB0byBkZWNyeXB0IGl0IHlldC4KICAgICAgICAgICAgaWYgc2VsZi5hZXNfZW5hYmxlZDoKICAgICAgICAgICAgICAgIGl2ID0gcmFuZF9ieXRlcygxNikKICAgICAgICAgICAgICAgIGVuYyA9IGl2ICsgbWV0X2Flc19lbmNyeXB0KHNlbGYuYWVzX2tleSwgaXYsIHBrdFs4Ol0pCiAgICAgICAgICAgICAgICBoZHIgPSBzdHJ1Y3QucGFjaygnPkknLCBsZW4oZW5jKSArIDgpICsgcGt0WzQ6OF0KICAgICAgICAgICAgICAgIHBrdCA9IGhkciArIGVuYwogICAgICAgICAgICAgICAgIyBXZSBjaGFuZ2UgdGhlIHBhY2tldCBlbmNyeXB0aW9uIHR5cGUgdG8gdGVsbCBNU0YgdGhhdAogICAgICAgICAgICAgICAgIyB0aGUgcGFja2V0IGlzIGVuY3J5cHRlZC4KICAgICAgICAgICAgICAgIGVuY190eXBlID0gRU5DX0FFUzI1NgogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgIyBJZiB3ZSBnZXQgaGVyZSwgaXQgbWVhbnMgdGhhdCB0aGUgQUVTIGVuY3J5cHRpb24ga2V5CiAgICAgICAgICAgICAgICAjIGlzIHJlYWR5IHRvIHVzZSBmcm9tIHRoaXMgcG9pbnQgb253YXJkcyBhcyB0aGUgbGFzdAogICAgICAgICAgICAgICAgIyBwbGFpbiB0ZXh0IHBhY2tldCBoYXMgYmVlbiBzZW50IGJhY2sgdG8gTVNGIGNvbnRhaW5pbmcKICAgICAgICAgICAgICAgICMgdGhlIGtleSwgYW5kIHNvIE1TRiB3aWxsIGJlIGFibGUgdG8gaGFuZGxlIGVuY3J5cHRlZAogICAgICAgICAgICAgICAgIyBjb21tdW5pY2F0aW9ucyBmcm9tIGhlcmUuCiAgICAgICAgICAgICAgICBzZWxmLmFlc19lbmFibGVkID0gVHJ1ZQoKICAgICAgICB4b3Jfa2V5ID0gcmFuZF94b3Jfa2V5KCkKICAgICAgICByYXcgPSBiaW5hc2NpaS5hMmJfaGV4KGJ5dGVzKFNFU1NJT05fR1VJRCwgJ1VURi04JykpICsgc3RydWN0LnBhY2soJz5JJywgZW5jX3R5cGUpICsgcGt0CiAgICAgICAgcmVzdWx0ID0gc3RydWN0LnBhY2soJ0JCQkInLCAqeG9yX2tleSkgKyB4b3JfYnl0ZXMoeG9yX2tleSwgcmF3KQogICAgICAgIHJldHVybiByZXN1bHQKCiAgICBkZWYgc2VuZF9wYWNrZXQoc2VsZiwgcGt0KToKICAgICAgICBwa3QgPSBzdHJ1Y3QucGFjaygnPkknLCBsZW4ocGt0KSArIDQpICsgcGt0CiAgICAgICAgc2VsZi5yZXF1ZXN0X3JldGlyZSA9IEZhbHNlCiAgICAgICAgdHJ5OgogICAgICAgICAgICBzZWxmLl9zZW5kX3BhY2tldChzZWxmLmVuY3J5cHRfcGFja2V0KHBrdCkpCiAgICAgICAgZXhjZXB0OgogICAgICAgICAgICBkZWJ1Z190cmFjZWJhY2soKQogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBzZWxmLmNvbW11bmljYXRpb25fbGFzdCA9IHRpbWUudGltZSgpCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgdGx2X3BhY2tfdGltZW91dHMoc2VsZik6CiAgICAgICAgcmVzcG9uc2UgID0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfQ09NTV9USU1FT1VULCBzZWxmLmNvbW11bmljYXRpb25fdGltZW91dCkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19SRVRSWV9UT1RBTCwgc2VsZi5yZXRyeV90b3RhbCkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19SRVRSWV9XQUlULCBzZWxmLnJldHJ5X3dhaXQpCiAgICAgICAgcmV0dXJuIHJlc3BvbnNlCgogICAgZGVmIHRsdl9wYWNrX3RyYW5zcG9ydF9ncm91cChzZWxmKToKICAgICAgICB0cmFuc19ncm91cCAgPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19VUkwsIHNlbGYudXJsKQogICAgICAgIHRyYW5zX2dyb3VwICs9IHNlbGYudGx2X3BhY2tfdGltZW91dHMoKQogICAgICAgIHJldHVybiB0cmFuc19ncm91cAoKY2xhc3MgSHR0cFRyYW5zcG9ydChUcmFuc3BvcnQpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHVybCwgcHJveHk9Tm9uZSwgdXNlcl9hZ2VudD1Ob25lLCBodHRwX2hvc3Q9Tm9uZSwgaHR0cF9yZWZlcmVyPU5vbmUsIGh0dHBfY29va2llPU5vbmUpOgogICAgICAgIHN1cGVyKEh0dHBUcmFuc3BvcnQsIHNlbGYpLl9faW5pdF9fKCkKICAgICAgICBvcGVuZXJfYXJncyA9IFtdCiAgICAgICAgc2NoZW1lID0gdXJsLnNwbGl0KCc6JywgMSlbMF0KICAgICAgICBpZiBzY2hlbWUgPT0gJ2h0dHBzJyBhbmQgKChzeXMudmVyc2lvbl9pbmZvWzBdID09IDIgYW5kIHN5cy52ZXJzaW9uX2luZm8gPj0gKDIsIDcsIDkpKSBvciBzeXMudmVyc2lvbl9pbmZvID49ICgzLCA0LCAzKSk6CiAgICAgICAgICAgIGltcG9ydCBzc2wKICAgICAgICAgICAgc3NsX2N0eCA9IHNzbC5TU0xDb250ZXh0KHNzbC5QUk9UT0NPTF9TU0x2MjMpCiAgICAgICAgICAgIHNzbF9jdHguY2hlY2tfaG9zdG5hbWUgPSBGYWxzZQogICAgICAgICAgICBzc2xfY3R4LnZlcmlmeV9tb2RlID0gc3NsLkNFUlRfTk9ORQogICAgICAgICAgICBvcGVuZXJfYXJncy5hcHBlbmQodXJsbGliLkhUVFBTSGFuZGxlcigwLCBzc2xfY3R4KSkKICAgICAgICBpZiBwcm94eToKICAgICAgICAgICAgb3BlbmVyX2FyZ3MuYXBwZW5kKHVybGxpYi5Qcm94eUhhbmRsZXIoe3NjaGVtZTogcHJveHl9KSkKICAgICAgICAgICAgb3BlbmVyX2FyZ3MuYXBwZW5kKHVybGxpYi5Qcm94eUJhc2ljQXV0aEhhbmRsZXIoKSkKICAgICAgICBzZWxmLnByb3h5ID0gcHJveHkKICAgICAgICBvcGVuZXIgPSB1cmxsaWIuYnVpbGRfb3BlbmVyKCpvcGVuZXJfYXJncykKICAgICAgICBvcGVuZXIuYWRkaGVhZGVycyA9IFtdCiAgICAgICAgaWYgdXNlcl9hZ2VudDoKICAgICAgICAgICAgb3BlbmVyLmFkZGhlYWRlcnMuYXBwZW5kKCgnVXNlci1BZ2VudCcsIHVzZXJfYWdlbnQpKQogICAgICAgIGlmIGh0dHBfY29va2llOgogICAgICAgICAgICBvcGVuZXIuYWRkaGVhZGVycy5hcHBlbmQoKCdDb29raWUnLCBodHRwX2Nvb2tpZSkpCiAgICAgICAgaWYgaHR0cF9yZWZlcmVyOgogICAgICAgICAgICBvcGVuZXIuYWRkaGVhZGVycy5hcHBlbmQoKCdSZWZlcmVyJywgaHR0cF9yZWZlcmVyKSkKICAgICAgICBzZWxmLnVzZXJfYWdlbnQgPSB1c2VyX2FnZW50CiAgICAgICAgdXJsbGliLmluc3RhbGxfb3BlbmVyKG9wZW5lcikKICAgICAgICBzZWxmLnVybCA9IHVybAogICAgICAgIHNlbGYuX2h0dHBfcmVxdWVzdF9oZWFkZXJzID0geydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJ30KICAgICAgICBpZiBodHRwX2hvc3Q6CiAgICAgICAgICAgIHNlbGYuX2h0dHBfcmVxdWVzdF9oZWFkZXJzWydIb3N0J10gPSBodHRwX2hvc3QKICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBOb25lCiAgICAgICAgc2VsZi5fZW1wdHlfY250ID0gMAoKICAgIGRlZiBfZ2V0X3BhY2tldChzZWxmKToKICAgICAgICBpZiBzZWxmLl9maXJzdF9wYWNrZXQ6CiAgICAgICAgICAgIHBhY2tldCA9IHNlbGYuX2ZpcnN0X3BhY2tldAogICAgICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBOb25lCiAgICAgICAgICAgIHJldHVybiBwYWNrZXQKICAgICAgICBwYWNrZXQgPSBOb25lCiAgICAgICAgeG9yX2tleSA9IE5vbmUKICAgICAgICB1cmxfaCA9IE5vbmUKICAgICAgICByZXF1ZXN0ID0gdXJsbGliLlJlcXVlc3Qoc2VsZi51cmwsIE5vbmUsIHNlbGYuX2h0dHBfcmVxdWVzdF9oZWFkZXJzKQogICAgICAgIHVybG9wZW5fa3dhcmdzID0ge30KICAgICAgICBpZiBzeXMudmVyc2lvbl9pbmZvID4gKDIsIDYpOgogICAgICAgICAgICB1cmxvcGVuX2t3YXJnc1sndGltZW91dCddID0gc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQKICAgICAgICB0cnk6CiAgICAgICAgICAgIHVybF9oID0gdXJsbGliLnVybG9wZW4ocmVxdWVzdCwgKip1cmxvcGVuX2t3YXJncykKICAgICAgICAgICAgaWYgdXJsX2guY29kZSA9PSAyMDA6CiAgICAgICAgICAgICAgICBwYWNrZXQgPSB1cmxfaC5yZWFkKCkKICAgICAgICAgICAgICAgIGlmIGxlbihwYWNrZXQpIDwgUEFDS0VUX0hFQURFUl9TSVpFOgogICAgICAgICAgICAgICAgICAgIHBhY2tldCA9IE5vbmUgICMgbG9va3MgY29ycnVwdAogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICB4b3Jfa2V5ID0gc3RydWN0LnVucGFjaygnQkJCQicsIHBhY2tldFs6UEFDS0VUX1hPUl9LRVlfU0laRV0pCiAgICAgICAgICAgICAgICAgICAgaGVhZGVyID0geG9yX2J5dGVzKHhvcl9rZXksIHBhY2tldFs6UEFDS0VUX0hFQURFUl9TSVpFXSkKICAgICAgICAgICAgICAgICAgICBwa3RfbGVuZ3RoID0gc3RydWN0LnVucGFjaygnPkknLCBoZWFkZXJbUEFDS0VUX0xFTkdUSF9PRkY6UEFDS0VUX0xFTkdUSF9PRkYgKyBQQUNLRVRfTEVOR1RIX1NJWkVdKVswXSAtIDgKICAgICAgICAgICAgICAgICAgICBpZiBsZW4ocGFja2V0KSAhPSAocGt0X2xlbmd0aCArIFBBQ0tFVF9IRUFERVJfU0laRSk6CiAgICAgICAgICAgICAgICAgICAgICAgIHBhY2tldCA9IE5vbmUgICMgbG9va3MgY29ycnVwdAogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZGVidWdfdHJhY2ViYWNrKCdbLV0gZmFpbHVyZSB0byByZWNlaXZlIHBhY2tldCBmcm9tICcgKyBzZWxmLnVybCkKCiAgICAgICAgaWYgbm90IHBhY2tldDoKICAgICAgICAgICAgaWYgdXJsX2ggYW5kIHVybF9oLmNvZGUgPT0gMjAwOgogICAgICAgICAgICAgICAgIyBzZXJ2ZXIgaGFzIG5vdGhpbmcgZm9yIHVzIGJ1dCB0aGlzIGlzIGZpbmUgc28gdXBkYXRlIHRoZSBjb21tdW5pY2F0aW9uIHRpbWUgYW5kIHdhaXQKICAgICAgICAgICAgICAgIHNlbGYuY29tbXVuaWNhdGlvbl9sYXN0ID0gdGltZS50aW1lKCkKICAgICAgICAgICAgZGVsYXkgPSAxMDAgKiBzZWxmLl9lbXB0eV9jbnQKICAgICAgICAgICAgc2VsZi5fZW1wdHlfY250ICs9IDEKICAgICAgICAgICAgdGltZS5zbGVlcChmbG9hdChtaW4oMTAwMDAsIGRlbGF5KSkgLyAxMDAwKQogICAgICAgICAgICByZXR1cm4gcGFja2V0CgogICAgICAgIHNlbGYuX2VtcHR5X2NudCA9IDAKICAgICAgICByZXR1cm4gcGFja2V0CgogICAgZGVmIF9zZW5kX3BhY2tldChzZWxmLCBwYWNrZXQpOgogICAgICAgIHJlcXVlc3QgPSB1cmxsaWIuUmVxdWVzdChzZWxmLnVybCwgcGFja2V0LCBzZWxmLl9odHRwX3JlcXVlc3RfaGVhZGVycykKICAgICAgICB1cmxvcGVuX2t3YXJncyA9IHt9CiAgICAgICAgaWYgc3lzLnZlcnNpb25faW5mbyA+ICgyLCA2KToKICAgICAgICAgICAgdXJsb3Blbl9rd2FyZ3NbJ3RpbWVvdXQnXSA9IHNlbGYuY29tbXVuaWNhdGlvbl90aW1lb3V0CiAgICAgICAgdXJsX2ggPSB1cmxsaWIudXJsb3BlbihyZXF1ZXN0LCAqKnVybG9wZW5fa3dhcmdzKQogICAgICAgIHJlc3BvbnNlID0gdXJsX2gucmVhZCgpCgogICAgZGVmIHBhdGNoX3VyaV9wYXRoKHNlbGYsIG5ld19wYXRoKToKICAgICAgICBtYXRjaCA9IHJlLm1hdGNoKHInaHR0cHM/Oi8vW14vXSsoLy4qJCknLCBzZWxmLnVybCkKICAgICAgICBpZiBtYXRjaCBpcyBOb25lOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICBzZWxmLnVybCA9IHNlbGYudXJsWzptYXRjaC5zcGFuKDEpWzBdXSArIG5ld19wYXRoCiAgICAgICAgcmV0dXJuIFRydWUKCiAgICBkZWYgdGx2X3BhY2tfdHJhbnNwb3J0X2dyb3VwKHNlbGYpOgogICAgICAgIHRyYW5zX2dyb3VwICA9IHN1cGVyKEh0dHBUcmFuc3BvcnQsIHNlbGYpLnRsdl9wYWNrX3RyYW5zcG9ydF9ncm91cCgpCiAgICAgICAgaWYgc2VsZi51c2VyX2FnZW50OgogICAgICAgICAgICB0cmFuc19ncm91cCArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19VQSwgc2VsZi51c2VyX2FnZW50KQogICAgICAgIGlmIHNlbGYucHJveHk6CiAgICAgICAgICAgIHRyYW5zX2dyb3VwICs9IHRsdl9wYWNrKFRMVl9UWVBFX1RSQU5TX1BST1hZX0hPU1QsIHNlbGYucHJveHkpCiAgICAgICAgcmV0dXJuIHRyYW5zX2dyb3VwCgpjbGFzcyBUY3BUcmFuc3BvcnQoVHJhbnNwb3J0KToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCB1cmwsIHNvY2tldD1Ob25lKToKICAgICAgICBzdXBlcihUY3BUcmFuc3BvcnQsIHNlbGYpLl9faW5pdF9fKCkKICAgICAgICBzZWxmLnVybCA9IHVybAogICAgICAgIHNlbGYuc29ja2V0ID0gc29ja2V0CiAgICAgICAgc2VsZi5fY2xlYW51cF90aHJlYWQgPSBOb25lCiAgICAgICAgc2VsZi5fZmlyc3RfcGFja2V0ID0gVHJ1ZQoKICAgIGRlZiBfc29ja19jbGVhbnVwKHNlbGYsIHNvY2spOgogICAgICAgIHJlbWFpbmluZ190aW1lID0gc2VsZi5jb21tdW5pY2F0aW9uX3RpbWVvdXQKICAgICAgICB3aGlsZSByZW1haW5pbmdfdGltZSA+IDA6CiAgICAgICAgICAgIGl0ZXJfc3RhcnRfdGltZSA9IHRpbWUudGltZSgpCiAgICAgICAgICAgIGlmIHNlbGVjdC5zZWxlY3QoW3NvY2tdLCBbXSwgW10sIHJlbWFpbmluZ190aW1lKVswXToKICAgICAgICAgICAgICAgIGlmIGxlbihzb2NrLnJlY3YoNDA5NikpID09IDA6CiAgICAgICAgICAgICAgICAgICAgYnJlYWsKICAgICAgICAgICAgcmVtYWluaW5nX3RpbWUgLT0gdGltZS50aW1lKCkgLSBpdGVyX3N0YXJ0X3RpbWUKICAgICAgICBzb2NrLmNsb3NlKCkKCiAgICBkZWYgX2FjdGl2YXRlKHNlbGYpOgogICAgICAgIGFkZHJlc3MsIHBvcnQgPSBzZWxmLnVybFs2Ol0ucnNwbGl0KCc6JywgMSkKICAgICAgICBwb3J0ID0gaW50KHBvcnQucnN0cmlwKCcvJykpCiAgICAgICAgdGltZW91dCA9IG1heChzZWxmLmNvbW11bmljYXRpb25fdGltZW91dCwgMzApCiAgICAgICAgaWYgYWRkcmVzcyBpbiAoJycsICcwLjAuMC4wJywgJzo6Jyk6CiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHNlcnZlcl9zb2NrID0gc29ja2V0LnNvY2tldChzb2NrZXQuQUZfSU5FVDYsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgICAgIHNlcnZlcl9zb2NrLnNldHNvY2tvcHQoc29ja2V0LklQUFJPVE9fSVBWNiwgc29ja2V0LklQVjZfVjZPTkxZLCAwKQogICAgICAgICAgICBleGNlcHQgKEF0dHJpYnV0ZUVycm9yLCBzb2NrZXQuZXJyb3IpOgogICAgICAgICAgICAgICAgc2VydmVyX3NvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCiAgICAgICAgICAgIHNlcnZlcl9zb2NrLmJpbmQoKCcnLCBwb3J0KSkKICAgICAgICAgICAgc2VydmVyX3NvY2subGlzdGVuKDEpCiAgICAgICAgICAgIGlmIG5vdCBzZWxlY3Quc2VsZWN0KFtzZXJ2ZXJfc29ja10sIFtdLCBbXSwgdGltZW91dClbMF06CiAgICAgICAgICAgICAgICBzZXJ2ZXJfc29jay5jbG9zZSgpCiAgICAgICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICAgICAgc29jaywgXyA9IHNlcnZlcl9zb2NrLmFjY2VwdCgpCiAgICAgICAgICAgIHNlcnZlcl9zb2NrLmNsb3NlKCkKICAgICAgICBlbHNlOgogICAgICAgICAgICBpZiAnOicgaW4gYWRkcmVzczoKICAgICAgICAgICAgICAgIHNvY2sgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVUNiwgc29ja2V0LlNPQ0tfU1RSRUFNKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgc29jayA9IHNvY2tldC5zb2NrZXQoc29ja2V0LkFGX0lORVQsIHNvY2tldC5TT0NLX1NUUkVBTSkKICAgICAgICAgICAgc29jay5zZXR0aW1lb3V0KHRpbWVvdXQpCiAgICAgICAgICAgIHNvY2suY29ubmVjdCgoYWRkcmVzcywgcG9ydCkpCiAgICAgICAgICAgIHNvY2suc2V0dGltZW91dChOb25lKQogICAgICAgIHNlbGYuc29ja2V0ID0gc29jawogICAgICAgIHNlbGYuX2ZpcnN0X3BhY2tldCA9IFRydWUKICAgICAgICByZXR1cm4gVHJ1ZQoKICAgIGRlZiBfZGVhY3RpdmF0ZShzZWxmKToKICAgICAgICBjbGVhbnVwID0gdGhyZWFkaW5nLlRocmVhZCh0YXJnZXQ9c2VsZi5fc29ja19jbGVhbnVwLCBhcmdzPShzZWxmLnNvY2tldCwpKQogICAgICAgIGNsZWFudXAucnVuKCkKICAgICAgICBzZWxmLnNvY2tldCA9IE5vbmUKCiAgICBkZWYgX2dldF9wYWNrZXQoc2VsZik6CiAgICAgICAgZmlyc3QgPSBzZWxmLl9maXJzdF9wYWNrZXQKICAgICAgICBzZWxmLl9maXJzdF9wYWNrZXQgPSBGYWxzZQogICAgICAgIGlmIG5vdCBzZWxlY3Quc2VsZWN0KFtzZWxmLnNvY2tldF0sIFtdLCBbXSwgMC41KVswXToKICAgICAgICAgICAgcmV0dXJuIGJ5dGVzKCkKICAgICAgICBwYWNrZXQgPSBzZWxmLnNvY2tldC5yZWN2KFBBQ0tFVF9IRUFERVJfU0laRSkKICAgICAgICBpZiBwYWNrZXQgPT0gJyc6ICAjIHJlbW90ZSBpcyBjbG9zZWQKICAgICAgICAgICAgc2VsZi5yZXF1ZXN0X3JldGlyZSA9IFRydWUKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBpZiBsZW4ocGFja2V0KSAhPSBQQUNLRVRfSEVBREVSX1NJWkU6CiAgICAgICAgICAgIGlmIGZpcnN0IGFuZCBsZW4ocGFja2V0KSA9PSA0OgogICAgICAgICAgICAgICAgcmVjZWl2ZWQgPSAwCiAgICAgICAgICAgICAgICBoZWFkZXIgPSBwYWNrZXRbOjRdCiAgICAgICAgICAgICAgICBwa3RfbGVuZ3RoID0gc3RydWN0LnVucGFjaygnPkknLCBoZWFkZXIpWzBdCiAgICAgICAgICAgICAgICBzZWxmLnNvY2tldC5zZXR0aW1lb3V0KG1heChzZWxmLmNvbW11bmljYXRpb25fdGltZW91dCwgMzApKQogICAgICAgICAgICAgICAgd2hpbGUgcmVjZWl2ZWQgPCBwa3RfbGVuZ3RoOgogICAgICAgICAgICAgICAgICAgIHJlY2VpdmVkICs9IGxlbihzZWxmLnNvY2tldC5yZWN2KHBrdF9sZW5ndGggLSByZWNlaXZlZCkpCiAgICAgICAgICAgICAgICBzZWxmLnNvY2tldC5zZXR0aW1lb3V0KE5vbmUpCiAgICAgICAgICAgICAgICByZXR1cm4gc2VsZi5fZ2V0X3BhY2tldCgpCiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIHhvcl9rZXkgPSBzdHJ1Y3QudW5wYWNrKCdCQkJCJywgcGFja2V0WzpQQUNLRVRfWE9SX0tFWV9TSVpFXSkKICAgICAgICAjIFhPUiB0aGUgd2hvbGUgaGVhZGVyIGZpcnN0CiAgICAgICAgaGVhZGVyID0geG9yX2J5dGVzKHhvcl9rZXksIHBhY2tldFs6UEFDS0VUX0hFQURFUl9TSVpFXSkKICAgICAgICAjIEV4dHJhY3QganVzdCB0aGUgbGVuZ3RoCiAgICAgICAgcGt0X2xlbmd0aCA9IHN0cnVjdC51bnBhY2soJz5JJywgaGVhZGVyW1BBQ0tFVF9MRU5HVEhfT0ZGOlBBQ0tFVF9MRU5HVEhfT0ZGK1BBQ0tFVF9MRU5HVEhfU0laRV0pWzBdCiAgICAgICAgcGt0X2xlbmd0aCAtPSA4CiAgICAgICAgIyBSZWFkIHRoZSByZXN0IG9mIHRoZSBwYWNrZXQKICAgICAgICByZXN0ID0gYnl0ZXMoKQogICAgICAgIHdoaWxlIGxlbihyZXN0KSA8IHBrdF9sZW5ndGg6CiAgICAgICAgICAgIHJlc3QgKz0gc2VsZi5zb2NrZXQucmVjdihwa3RfbGVuZ3RoIC0gbGVuKHJlc3QpKQogICAgICAgICMgcmV0dXJuIHRoZSB3aG9sZSBwYWNrZXQsIGFzIGl0J3MgZGVjb2RlZCBzZXBhcmF0ZWx5CiAgICAgICAgcmV0dXJuIHBhY2tldCArIHJlc3QKCiAgICBkZWYgX3NlbmRfcGFja2V0KHNlbGYsIHBhY2tldCk6CiAgICAgICAgc2VsZi5zb2NrZXQuc2VuZChwYWNrZXQpCgogICAgQGNsYXNzbWV0aG9kCiAgICBkZWYgZnJvbV9zb2NrZXQoY2xzLCBzb2NrKToKICAgICAgICB1cmwgPSAndGNwOi8vJwogICAgICAgIGFkZHJlc3MsIHBvcnQgPSBzb2NrLmdldHNvY2tuYW1lKClbOjJdCiAgICAgICAgIyB0aGlzIHdpbGwgbmVlZCB0byBiZSBjaGFuZ2VkIGlmIHRoZSBiaW5kIHN0YWdlciBldmVyIHN1cHBvcnRzIGJpbmRpbmcgdG8gYSBzcGVjaWZpYyBhZGRyZXNzCiAgICAgICAgaWYgbm90IGFkZHJlc3MgaW4gKCcnLCAnMC4wLjAuMCcsICc6OicpOgogICAgICAgICAgICBhZGRyZXNzLCBwb3J0ID0gc29jay5nZXRwZWVybmFtZSgpWzoyXQogICAgICAgIHVybCArPSBhZGRyZXNzICsgJzonICsgc3RyKHBvcnQpCiAgICAgICAgcmV0dXJuIGNscyh1cmwsIHNvY2spCgpjbGFzcyBQeXRob25NZXRlcnByZXRlcihvYmplY3QpOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHRyYW5zcG9ydCk6CiAgICAgICAgc2VsZi50cmFuc3BvcnQgPSB0cmFuc3BvcnQKICAgICAgICBzZWxmLl90cmFuc3BvcnRfc2xlZXAgPSBOb25lCiAgICAgICAgc2VsZi5ydW5uaW5nID0gRmFsc2UKICAgICAgICBzZWxmLmxhc3RfcmVnaXN0ZXJlZF9leHRlbnNpb24gPSBOb25lCiAgICAgICAgc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zID0ge30KICAgICAgICBzZWxmLmNoYW5uZWxzID0ge30KICAgICAgICBzZWxmLm5leHRfY2hhbm5lbF9pZCA9IDEKICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzID0gW10KICAgICAgICBzZWxmLnByb2Nlc3NlcyA9IHt9CiAgICAgICAgc2VsZi5uZXh0X3Byb2Nlc3NfaWQgPSAxCiAgICAgICAgc2VsZi50cmFuc3BvcnRzID0gW3NlbGYudHJhbnNwb3J0XQogICAgICAgIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZSA9IFNFU1NJT05fRVhQSVJBVElPTl9USU1FT1VUCiAgICAgICAgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgPSB0aW1lLnRpbWUoKSArIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZQogICAgICAgIGZvciBmdW5jIGluIGxpc3QoZmlsdGVyKGxhbWJkYSB4OiB4LnN0YXJ0c3dpdGgoJ19jb3JlJyksIGRpcihzZWxmKSkpOgogICAgICAgICAgICBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnNbZnVuY1sxOl1dID0gZ2V0YXR0cihzZWxmLCBmdW5jKQogICAgICAgIHNlbGYucnVubmluZyA9IFRydWUKCiAgICBkZWYgcmVnaXN0ZXJfZXh0ZW5zaW9uKHNlbGYsIGV4dGVuc2lvbl9uYW1lKToKICAgICAgICBzZWxmLmxhc3RfcmVnaXN0ZXJlZF9leHRlbnNpb24gPSBleHRlbnNpb25fbmFtZQogICAgICAgIHJldHVybiBzZWxmLmxhc3RfcmVnaXN0ZXJlZF9leHRlbnNpb24KCiAgICBkZWYgcmVnaXN0ZXJfZnVuY3Rpb24oc2VsZiwgZnVuYyk6CiAgICAgICAgc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zW2Z1bmMuX19uYW1lX19dID0gZnVuYwogICAgICAgIHJldHVybiBmdW5jCgogICAgZGVmIHJlZ2lzdGVyX2Z1bmN0aW9uX2lmKHNlbGYsIGNvbmRpdGlvbik6CiAgICAgICAgaWYgY29uZGl0aW9uOgogICAgICAgICAgICByZXR1cm4gc2VsZi5yZWdpc3Rlcl9mdW5jdGlvbgogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBsYW1iZGEgZnVuY3Rpb246IGZ1bmN0aW9uCgogICAgZGVmIHJlZ2lzdGVyX2Z1bmN0aW9uX3dpbmRsbChzZWxmLCBmdW5jKToKICAgICAgICBpZiBoYXNfd2luZGxsOgogICAgICAgICAgICBzZWxmLnJlZ2lzdGVyX2Z1bmN0aW9uKGZ1bmMpCiAgICAgICAgcmV0dXJuIGZ1bmMKCiAgICBkZWYgYWRkX2NoYW5uZWwoc2VsZiwgY2hhbm5lbCk6CiAgICAgICAgaWYgbm90IGlzaW5zdGFuY2UoY2hhbm5lbCwgTWV0ZXJwcmV0ZXJDaGFubmVsKToKICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1stXSBjaGFubmVsIG9iamVjdCBpcyBub3QgYW4gaW5zdGFuY2Ugb2YgTWV0ZXJwcmV0ZXJDaGFubmVsJykKICAgICAgICAgICAgcmFpc2UgVHlwZUVycm9yKCdpbnZhbGlkIGNoYW5uZWwgb2JqZWN0JykKICAgICAgICBpZHggPSBzZWxmLm5leHRfY2hhbm5lbF9pZAogICAgICAgIHNlbGYuY2hhbm5lbHNbaWR4XSA9IGNoYW5uZWwKICAgICAgICBkZWJ1Z19wcmludCgnWypdIGFkZGVkIGNoYW5uZWwgaWQ6ICcgKyBzdHIoaWR4KSArICcgdHlwZTogJyArIGNoYW5uZWwuX19jbGFzc19fLl9fbmFtZV9fKQogICAgICAgIHNlbGYubmV4dF9jaGFubmVsX2lkICs9IDEKICAgICAgICByZXR1cm4gaWR4CgogICAgZGVmIGFkZF9wcm9jZXNzKHNlbGYsIHByb2Nlc3MpOgogICAgICAgIGlkeCA9IHNlbGYubmV4dF9wcm9jZXNzX2lkCiAgICAgICAgc2VsZi5wcm9jZXNzZXNbaWR4XSA9IHByb2Nlc3MKICAgICAgICBkZWJ1Z19wcmludCgnWypdIGFkZGVkIHByb2Nlc3MgaWQ6ICcgKyBzdHIoaWR4KSkKICAgICAgICBzZWxmLm5leHRfcHJvY2Vzc19pZCArPSAxCiAgICAgICAgcmV0dXJuIGlkeAoKICAgIGRlZiBnZXRfcGFja2V0KHNlbGYpOgogICAgICAgIHBrdCA9IHNlbGYudHJhbnNwb3J0LmdldF9wYWNrZXQoKQogICAgICAgIGlmIHBrdCBpcyBOb25lIGFuZCBzZWxmLnRyYW5zcG9ydC5zaG91bGRfcmV0aXJlOgogICAgICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UoKQogICAgICAgIHJldHVybiBwa3QKCiAgICBkZWYgc2VuZF9wYWNrZXQoc2VsZiwgcGFja2V0KToKICAgICAgICBzZW5kX3N1Y2NlZWRlZCA9IHNlbGYudHJhbnNwb3J0LnNlbmRfcGFja2V0KHBhY2tldCkKICAgICAgICBpZiBub3Qgc2VuZF9zdWNjZWVkZWQgYW5kIHNlbGYudHJhbnNwb3J0LnNob3VsZF9yZXRpcmU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZSgpCiAgICAgICAgcmV0dXJuIHNlbmRfc3VjY2VlZGVkCgogICAgQHByb3BlcnR5CiAgICBkZWYgc2Vzc2lvbl9oYXNfZXhwaXJlZChzZWxmKToKICAgICAgICBpZiBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIHRpbWUudGltZSgpID4gc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQKCiAgICBkZWYgdHJhbnNwb3J0X2FkZChzZWxmLCBuZXdfdHJhbnNwb3J0KToKICAgICAgICBuZXdfcG9zaXRpb24gPSBzZWxmLnRyYW5zcG9ydHMuaW5kZXgoc2VsZi50cmFuc3BvcnQpCiAgICAgICAgc2VsZi50cmFuc3BvcnRzLmluc2VydChuZXdfcG9zaXRpb24sIG5ld190cmFuc3BvcnQpCgogICAgZGVmIHRyYW5zcG9ydF9jaGFuZ2Uoc2VsZiwgbmV3X3RyYW5zcG9ydD1Ob25lKToKICAgICAgICBpZiBuZXdfdHJhbnNwb3J0IGlzIE5vbmU6CiAgICAgICAgICAgIG5ld190cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9uZXh0KCkKICAgICAgICBzZWxmLnRyYW5zcG9ydC5kZWFjdGl2YXRlKCkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNoYW5naW5nIHRyYW5zcG9ydCB0bzogJyArIG5ld190cmFuc3BvcnQudXJsKQogICAgICAgIHdoaWxlIG5vdCBuZXdfdHJhbnNwb3J0LmFjdGl2YXRlKCk6CiAgICAgICAgICAgIG5ld190cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9uZXh0KG5ld190cmFuc3BvcnQpCiAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbKl0gY2hhbmdpbmcgdHJhbnNwb3J0IHRvOiAnICsgbmV3X3RyYW5zcG9ydC51cmwpCiAgICAgICAgc2VsZi50cmFuc3BvcnQgPSBuZXdfdHJhbnNwb3J0CgogICAgZGVmIHRyYW5zcG9ydF9uZXh0KHNlbGYsIGN1cnJlbnRfdHJhbnNwb3J0PU5vbmUpOgogICAgICAgIGlmIGN1cnJlbnRfdHJhbnNwb3J0IGlzIE5vbmU6CiAgICAgICAgICAgIGN1cnJlbnRfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnQKICAgICAgICBuZXdfaWR4ID0gc2VsZi50cmFuc3BvcnRzLmluZGV4KGN1cnJlbnRfdHJhbnNwb3J0KSArIDEKICAgICAgICBpZiBuZXdfaWR4ID09IGxlbihzZWxmLnRyYW5zcG9ydHMpOgogICAgICAgICAgICBuZXdfaWR4ID0gMAogICAgICAgIHJldHVybiBzZWxmLnRyYW5zcG9ydHNbbmV3X2lkeF0KCiAgICBkZWYgdHJhbnNwb3J0X3ByZXYoc2VsZiwgY3VycmVudF90cmFuc3BvcnQ9Tm9uZSk6CiAgICAgICAgaWYgY3VycmVudF90cmFuc3BvcnQgaXMgTm9uZToKICAgICAgICAgICAgY3VycmVudF90cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydAogICAgICAgIG5ld19pZHggPSBzZWxmLnRyYW5zcG9ydHMuaW5kZXgoY3VycmVudF90cmFuc3BvcnQpIC0gMQogICAgICAgIGlmIG5ld19pZHggPT0gLTE6CiAgICAgICAgICAgIG5ld19pZHggPSBsZW4oc2VsZi50cmFuc3BvcnRzKSAtIDEKICAgICAgICByZXR1cm4gc2VsZi50cmFuc3BvcnRzW25ld19pZHhdCgogICAgZGVmIHJ1bihzZWxmKToKICAgICAgICB3aGlsZSBzZWxmLnJ1bm5pbmcgYW5kIG5vdCBzZWxmLnNlc3Npb25faGFzX2V4cGlyZWQ6CiAgICAgICAgICAgIHJlcXVlc3QgPSBzZWxmLmdldF9wYWNrZXQoKQogICAgICAgICAgICBpZiByZXF1ZXN0OgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBzZWxmLmNyZWF0ZV9yZXNwb25zZShyZXF1ZXN0KQogICAgICAgICAgICAgICAgaWYgcmVzcG9uc2U6CiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kX3BhY2tldChyZXNwb25zZSkKICAgICAgICAgICAgICAgIGlmIHNlbGYuX3RyYW5zcG9ydF9zbGVlcDoKICAgICAgICAgICAgICAgICAgICBzZWxmLnRyYW5zcG9ydC5kZWFjdGl2YXRlKCkKICAgICAgICAgICAgICAgICAgICB0aW1lLnNsZWVwKHNlbGYuX3RyYW5zcG9ydF9zbGVlcCkKICAgICAgICAgICAgICAgICAgICBzZWxmLl90cmFuc3BvcnRfc2xlZXAgPSBOb25lCiAgICAgICAgICAgICAgICAgICAgaWYgbm90IHNlbGYudHJhbnNwb3J0LmFjdGl2YXRlKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZSgpCiAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgIyBpdGVyYXRlIG92ZXIgdGhlIGtleXMgYmVjYXVzZSBzZWxmLmNoYW5uZWxzIGNvdWxkIGJlIG1vZGlmaWVkIGlmIG9uZSBpcyBjbG9zZWQKICAgICAgICAgICAgY2hhbm5lbF9pZHMgPSBsaXN0KHNlbGYuY2hhbm5lbHMua2V5cygpKQogICAgICAgICAgICBmb3IgY2hhbm5lbF9pZCBpbiBjaGFubmVsX2lkczoKICAgICAgICAgICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgICAgICAgICBkYXRhID0gYnl0ZXMoKQogICAgICAgICAgICAgICAgd3JpdGVfcmVxdWVzdF9wYXJ0cyA9IFtdCiAgICAgICAgICAgICAgICBpZiBpc2luc3RhbmNlKGNoYW5uZWwsIE1ldGVycHJldGVyUHJvY2Vzcyk6CiAgICAgICAgICAgICAgICAgICAgaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICAgICAgICAgICAgICBwcm9jX2ggPSBjaGFubmVsLnByb2NfaAogICAgICAgICAgICAgICAgICAgICAgICBpZiBwcm9jX2guc3RkZXJyX3JlYWRlci5pc19yZWFkX3JlYWR5KCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhID0gcHJvY19oLnN0ZGVycl9yZWFkZXIucmVhZCgpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgcHJvY19oLnN0ZG91dF9yZWFkZXIuaXNfcmVhZF9yZWFkeSgpOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHByb2NfaC5zdGRvdXRfcmVhZGVyLnJlYWQoKQogICAgICAgICAgICAgICAgICAgIGlmIG5vdCBjaGFubmVsLmlzX2FsaXZlKCk6CiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgICAgICAgICAgICAgICAgICBjaGFubmVsLmNsb3NlKCkKICAgICAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlclNvY2tldFRDUENsaWVudCk6CiAgICAgICAgICAgICAgICAgICAgd2hpbGUgc2VsZWN0LnNlbGVjdChbY2hhbm5lbC5maWxlbm8oKV0sIFtdLCBbXSwgMClbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBjaGFubmVsLnJlYWQoMSkKICAgICAgICAgICAgICAgICAgICAgICAgZXhjZXB0IHNvY2tldC5lcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQgPSBieXRlcygpCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIGxlbihkKSA9PSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgICAgICAgICBkYXRhICs9IGQKICAgICAgICAgICAgICAgIGVsaWYgaXNpbnN0YW5jZShjaGFubmVsLCBNZXRlcnByZXRlclNvY2tldFRDUFNlcnZlcik6CiAgICAgICAgICAgICAgICAgICAgaWYgc2VsZWN0LnNlbGVjdChbY2hhbm5lbC5maWxlbm8oKV0sIFtdLCBbXSwgMClbMF06CiAgICAgICAgICAgICAgICAgICAgICAgIChjbGllbnRfc29jaywgY2xpZW50X2FkZHIpID0gY2hhbm5lbC5zb2NrLmFjY2VwdCgpCiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlcl9hZGRyID0gY2hhbm5lbC5zb2NrLmdldHNvY2tuYW1lKCkKICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X2NoYW5uZWxfaWQgPSBzZWxmLmFkZF9jaGFubmVsKE1ldGVycHJldGVyU29ja2V0VENQQ2xpZW50KGNsaWVudF9zb2NrKSkKICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5zZW5kX3BhY2tldCh0bHZfcGFja19yZXF1ZXN0KCdzdGRhcGlfbmV0X3RjcF9jaGFubmVsX29wZW4nLCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX0lELCAndmFsdWUnOiBjbGllbnRfY2hhbm5lbF9pZH0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX1BBUkVOVElELCAndmFsdWUnOiBjaGFubmVsX2lkfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0xPQ0FMX0hPU1QsICd2YWx1ZSc6IHNlcnZlcl9hZGRyWzBdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0xPQ0FMX1BPUlQsICd2YWx1ZSc6IHNlcnZlcl9hZGRyWzFdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfSE9TVCwgJ3ZhbHVlJzogY2xpZW50X2FkZHJbMF19LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfUEVFUl9QT1JULCAndmFsdWUnOiBjbGllbnRfYWRkclsxXX0sCiAgICAgICAgICAgICAgICAgICAgICAgIF0pKQogICAgICAgICAgICAgICAgZWxpZiBpc2luc3RhbmNlKGNoYW5uZWwsIE1ldGVycHJldGVyU29ja2V0VURQQ2xpZW50KToKICAgICAgICAgICAgICAgICAgICBpZiBzZWxlY3Quc2VsZWN0KFtjaGFubmVsLmZpbGVubygpXSwgW10sIFtdLCAwKVswXToKICAgICAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSwgcGVlcl9hZGRyZXNzID0gY2hhbm5lbC5zb2NrLnJlY3Zmcm9tKDY1NTM1KQogICAgICAgICAgICAgICAgICAgICAgICBleGNlcHQgc29ja2V0LmVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oYW5kbGVfZGVhZF9yZXNvdXJjZV9jaGFubmVsKGNoYW5uZWxfaWQpCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3cml0ZV9yZXF1ZXN0X3BhcnRzLmV4dGVuZChbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfUEVFUl9IT1NULCAndmFsdWUnOiBwZWVyX2FkZHJlc3NbMF19LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX1BFRVJfUE9SVCwgJ3ZhbHVlJzogcGVlcl9hZGRyZXNzWzFdfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF0pCiAgICAgICAgICAgICAgICBpZiBkYXRhOgogICAgICAgICAgICAgICAgICAgIHdyaXRlX3JlcXVlc3RfcGFydHMuZXh0ZW5kKFsKICAgICAgICAgICAgICAgICAgICAgICAgeyd0eXBlJzogVExWX1RZUEVfQ0hBTk5FTF9JRCwgJ3ZhbHVlJzogY2hhbm5lbF9pZH0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0NIQU5ORUxfREFUQSwgJ3ZhbHVlJzogZGF0YX0sCiAgICAgICAgICAgICAgICAgICAgICAgIHsndHlwZSc6IFRMVl9UWVBFX0xFTkdUSCwgJ3ZhbHVlJzogbGVuKGRhdGEpfSwKICAgICAgICAgICAgICAgICAgICBdKQogICAgICAgICAgICAgICAgICAgIHNlbGYuc2VuZF9wYWNrZXQodGx2X3BhY2tfcmVxdWVzdCgnY29yZV9jaGFubmVsX3dyaXRlJywgd3JpdGVfcmVxdWVzdF9wYXJ0cykpCgogICAgZGVmIGhhbmRsZV9kZWFkX3Jlc291cmNlX2NoYW5uZWwoc2VsZiwgY2hhbm5lbF9pZCk6CiAgICAgICAgaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQodGx2X3BhY2tfcmVxdWVzdCgnY29yZV9jaGFubmVsX2Nsb3NlJywgWwogICAgICAgICAgICB7J3R5cGUnOiBUTFZfVFlQRV9DSEFOTkVMX0lELCAndmFsdWUnOiBjaGFubmVsX2lkfSwKICAgICAgICBdKSkKCiAgICBkZWYgX2NvcmVfc2V0X3V1aWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld191dWlkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVVVJRCkKICAgICAgICBpZiBuZXdfdXVpZDoKICAgICAgICAgICAgUEFZTE9BRF9VVUlEID0gYmluYXNjaWkuYjJhX2hleChuZXdfdXVpZFsndmFsdWUnXSkKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfZW51bWV4dGNtZChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgaWRfc3RhcnQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9VSU5UKVsndmFsdWUnXQogICAgICAgIGlkX2VuZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0xFTkdUSClbJ3ZhbHVlJ10gKyBpZF9zdGFydAogICAgICAgIGZvciBmdW5jX25hbWUgaW4gc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zLmtleXMoKToKICAgICAgICAgICAgY29tbWFuZF9pZCA9IGNtZF9zdHJpbmdfdG9faWQoZnVuY19uYW1lKQogICAgICAgICAgICBpZiBjb21tYW5kX2lkIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBpZiBpZF9zdGFydCA8IGNvbW1hbmRfaWQgYW5kIGNvbW1hbmRfaWQgPCBpZF9lbmQ6CiAgICAgICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9VSU5ULCBjb21tYW5kX2lkKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9nZXRfc2Vzc2lvbl9ndWlkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9TRVNTSU9OX0dVSUQsIGJpbmFzY2lpLmEyYl9oZXgoYnl0ZXMoU0VTU0lPTl9HVUlELCAnVVRGLTgnKSkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3NldF9zZXNzaW9uX2d1aWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld19ndWlkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfU0VTU0lPTl9HVUlEKQogICAgICAgIGlmIG5ld19ndWlkOgogICAgICAgICAgICBTRVNTSU9OX0dVSUQgPSBiaW5hc2NpaS5iMmFfaGV4KG5ld19ndWlkWyd2YWx1ZSddKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9tYWNoaW5lX2lkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBzZXJpYWwgPSAnJwogICAgICAgIG1hY2hpbmVfbmFtZSA9IHBsYXRmb3JtLnVuYW1lKClbMV0KICAgICAgICBpZiBoYXNfd2luZGxsOgogICAgICAgICAgICBmcm9tIGN0eXBlcyBpbXBvcnQgd2ludHlwZXMKCiAgICAgICAgICAgIGszMiA9IGN0eXBlcy53aW5kbGwua2VybmVsMzIKICAgICAgICAgICAgc3lzX2RpciA9IGN0eXBlcy5jcmVhdGVfdW5pY29kZV9idWZmZXIoMjYwKQogICAgICAgICAgICBpZiBub3QgazMyLkdldFN5c3RlbURpcmVjdG9yeVcoY3R5cGVzLmJ5cmVmKHN5c19kaXIpLCAyNjApOgogICAgICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkVfV0lORE9XUwoKICAgICAgICAgICAgdm9sX2J1ZiA9IGN0eXBlcy5jcmVhdGVfdW5pY29kZV9idWZmZXIoMjYwKQogICAgICAgICAgICBmc19idWYgPSBjdHlwZXMuY3JlYXRlX3VuaWNvZGVfYnVmZmVyKDI2MCkKICAgICAgICAgICAgc2VyaWFsX251bSA9IHdpbnR5cGVzLkRXT1JEKDApCgogICAgICAgICAgICBpZiBub3QgazMyLkdldFZvbHVtZUluZm9ybWF0aW9uVyhjdHlwZXMuY193Y2hhcl9wKHN5c19kaXIudmFsdWVbOjNdKSwKICAgICAgICAgICAgICAgICAgICB2b2xfYnVmLCBjdHlwZXMuc2l6ZW9mKHZvbF9idWYpLCBjdHlwZXMuYnlyZWYoc2VyaWFsX251bSksIE5vbmUsCiAgICAgICAgICAgICAgICAgICAgTm9uZSwgZnNfYnVmLCBjdHlwZXMuc2l6ZW9mKGZzX2J1ZikpOgogICAgICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkVfV0lORE9XUwogICAgICAgICAgICBzZXJpYWxfbnVtID0gc2VyaWFsX251bS52YWx1ZQogICAgICAgICAgICBzZXJpYWwgPSAiJTA0eCIgJSAoKHNlcmlhbF9udW0gPj4gMTYpICYgMHhmZmZmKSArICctJyAiJTA0eCIgJSAoc2VyaWFsX251bSAmIDB4ZmZmZikKICAgICAgICBlbHNlOgogICAgICAgICAgICBzZXJpYWwgPSBnZXRfaGRkX2xhYmVsKCkKCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfTUFDSElORV9JRCwgIiVzOiVzIiAlIChzZXJpYWwsIG1hY2hpbmVfbmFtZSkpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX25hdGl2ZV9hcmNoKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9TVFJJTkcsIGdldF9uYXRpdmVfYXJjaCgpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9wYXRjaF91cmwoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGlmIG5vdCBpc2luc3RhbmNlKHNlbGYudHJhbnNwb3J0LCBIdHRwVHJhbnNwb3J0KToKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgbmV3X3VyaV9wYXRoID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfVVJMKVsndmFsdWUnXQogICAgICAgIGlmIG5vdCBzZWxmLnRyYW5zcG9ydC5wYXRjaF91cmlfcGF0aChuZXdfdXJpX3BhdGgpOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICByZXR1cm4gRVJST1JfU1VDQ0VTUywgcmVzcG9uc2UKCiAgICBkZWYgX2NvcmVfbmVnb3RpYXRlX3Rsdl9lbmNyeXB0aW9uKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBkZWJ1Z19wcmludCgnWypdIE5lZ290aWF0aW5nIFRMViBlbmNyeXB0aW9uJykKICAgICAgICBzZWxmLnRyYW5zcG9ydC5hZXNfa2V5ID0gcmFuZF9ieXRlcygzMikKICAgICAgICBzZWxmLnRyYW5zcG9ydC5hZXNfZW5hYmxlZCA9IEZhbHNlCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfU1lNX0tFWV9UWVBFLCBFTkNfQUVTMjU2KQogICAgICAgIGRlciA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1JTQV9QVUJfS0VZKVsndmFsdWUnXS5zdHJpcCgpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBSU0Ega2V5OiAnICsgc3RyKGJpbmFzY2lpLmIyYV9oZXgoZGVyKSkpCiAgICAgICAgZGVidWdfcHJpbnQoJ1sqXSBBRVMga2V5OiAnICsgaGV4KG1ldF9yc2EuYjJpKHNlbGYudHJhbnNwb3J0LmFlc19rZXkpKSkKICAgICAgICBlbmNfa2V5ID0gbWV0X3JzYV9lbmNyeXB0KGRlciwgc2VsZi50cmFuc3BvcnQuYWVzX2tleSkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIEVuY3J5cHRlZCBBRVMga2V5OiAnICsgaGV4KG1ldF9yc2EuYjJpKGVuY19rZXkpKSkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9FTkNfU1lNX0tFWSwgZW5jX2tleSkKICAgICAgICBkZWJ1Z19wcmludCgnWypdIFRMViBlbmNyeXB0aW9uIHNvcnRlZCcpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2xvYWRsaWIoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGRhdGFfdGx2ID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfREFUQSkKICAgICAgICBpZiAoZGF0YV90bHZbJ3R5cGUnXSAmIFRMVl9NRVRBX1RZUEVfQ09NUFJFU1NFRCkgPT0gVExWX01FVEFfVFlQRV9DT01QUkVTU0VEOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKCiAgICAgICAgbGlibmFtZSA9ICc/Pz8nCiAgICAgICAgbWF0Y2ggPSByZS5zZWFyY2gocidebWV0ZXJwcmV0ZXJcLnJlZ2lzdGVyX2V4dGVuc2lvblwoXCcoW2EtekEtWjAtOV0rKVwnXCkkJywgc3RyKGRhdGFfdGx2Wyd2YWx1ZSddKSwgcmUuTVVMVElMSU5FKQogICAgICAgIGlmIG1hdGNoIGlzIG5vdCBOb25lOgogICAgICAgICAgICBsaWJuYW1lID0gbWF0Y2guZ3JvdXAoMSkKCiAgICAgICAgc2VsZi5sYXN0X3JlZ2lzdGVyZWRfZXh0ZW5zaW9uID0gTm9uZQogICAgICAgIHN5bWJvbHNfZm9yX2V4dGVuc2lvbnMgPSB7J21ldGVycHJldGVyJzogc2VsZn0KICAgICAgICBzeW1ib2xzX2Zvcl9leHRlbnNpb25zLnVwZGF0ZShFWFBPUlRFRF9TWU1CT0xTKQogICAgICAgIGkgPSBjb2RlLkludGVyYWN0aXZlSW50ZXJwcmV0ZXIoc3ltYm9sc19mb3JfZXh0ZW5zaW9ucykKICAgICAgICBpLnJ1bmNvZGUoY29tcGlsZShkYXRhX3RsdlsndmFsdWUnXSwgJ2V4dF9zZXJ2ZXJfJyArIGxpYm5hbWUgKyAnLnB5JywgJ2V4ZWMnKSkKICAgICAgICBleHRlbnNpb25fbmFtZSA9IHNlbGYubGFzdF9yZWdpc3RlcmVkX2V4dGVuc2lvbgoKICAgICAgICBpZiBleHRlbnNpb25fbmFtZToKICAgICAgICAgICAgY2hlY2tfZXh0ZW5zaW9uID0gbGFtYmRhIHg6IHguc3RhcnRzd2l0aChleHRlbnNpb25fbmFtZSkKICAgICAgICAgICAgbGliX21ldGhvZHMgPSBsaXN0KGZpbHRlcihjaGVja19leHRlbnNpb24sIGxpc3Qoc2VsZi5leHRlbnNpb25fZnVuY3Rpb25zLmtleXMoKSkpKQogICAgICAgICAgICBmb3IgbWV0aG9kIGluIGxpYl9tZXRob2RzOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVUlOVCwgY21kX3N0cmluZ190b19pZChtZXRob2QpKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9zaHV0ZG93bihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfQk9PTCwgVHJ1ZSkKICAgICAgICBzZWxmLnJ1bm5pbmcgPSBGYWxzZQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfYWRkKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gVHJhbnNwb3J0LmZyb21fcmVxdWVzdChyZXF1ZXN0KQogICAgICAgIHNlbGYudHJhbnNwb3J0X2FkZChuZXdfdHJhbnNwb3J0KQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfY2hhbmdlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gVHJhbnNwb3J0LmZyb21fcmVxdWVzdChyZXF1ZXN0KQogICAgICAgIHNlbGYudHJhbnNwb3J0X2FkZChuZXdfdHJhbnNwb3J0KQogICAgICAgIHNlbGYuc2VuZF9wYWNrZXQocmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIEVSUk9SX1NVQ0NFU1MpKQogICAgICAgIHNlbGYudHJhbnNwb3J0X2NoYW5nZShuZXdfdHJhbnNwb3J0KQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9saXN0KHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBpZiBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPiAwOgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCwgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgLSB0aW1lLnRpbWUoKSkKICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19HUk9VUCwgc2VsZi50cmFuc3BvcnQudGx2X3BhY2tfdHJhbnNwb3J0X2dyb3VwKCkpCgogICAgICAgIHRyYW5zcG9ydCA9IHNlbGYudHJhbnNwb3J0X25leHQoKQogICAgICAgIHdoaWxlIHRyYW5zcG9ydCAhPSBzZWxmLnRyYW5zcG9ydDoKICAgICAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soVExWX1RZUEVfVFJBTlNfR1JPVVAsIHRyYW5zcG9ydC50bHZfcGFja190cmFuc3BvcnRfZ3JvdXAoKSkKICAgICAgICAgICAgdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCh0cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9uZXh0KHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBuZXdfdHJhbnNwb3J0ID0gc2VsZi50cmFuc3BvcnRfbmV4dCgpCiAgICAgICAgaWYgbmV3X3RyYW5zcG9ydCA9PSBzZWxmLnRyYW5zcG9ydDoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgc2VsZi5zZW5kX3BhY2tldChyZXNwb25zZSArIHRsdl9wYWNrKFRMVl9UWVBFX1JFU1VMVCwgRVJST1JfU1VDQ0VTUykpCiAgICAgICAgc2VsZi50cmFuc3BvcnRfY2hhbmdlKG5ld190cmFuc3BvcnQpCiAgICAgICAgcmV0dXJuIE5vbmUKCiAgICBkZWYgX2NvcmVfdHJhbnNwb3J0X3ByZXYoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIG5ld190cmFuc3BvcnQgPSBzZWxmLnRyYW5zcG9ydF9wcmV2KCkKICAgICAgICBpZiBuZXdfdHJhbnNwb3J0ID09IHNlbGYudHJhbnNwb3J0OgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCBFUlJPUl9TVUNDRVNTKSkKICAgICAgICBzZWxmLnRyYW5zcG9ydF9jaGFuZ2UobmV3X3RyYW5zcG9ydCkKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfcmVtb3ZlKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICB1cmwgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19VUkwpWyd2YWx1ZSddCiAgICAgICAgaWYgc2VsZi50cmFuc3BvcnQudXJsID09IHVybDoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgdHJhbnNwb3J0X2ZvdW5kID0gRmFsc2UKICAgICAgICBmb3IgdHJhbnNwb3J0IGluIHNlbGYudHJhbnNwb3J0czoKICAgICAgICAgICAgaWYgdHJhbnNwb3J0LnVybCA9PSB1cmw6CiAgICAgICAgICAgICAgICB0cmFuc3BvcnRfZm91bmQgPSBUcnVlCiAgICAgICAgICAgICAgICBicmVhawogICAgICAgIGlmIHRyYW5zcG9ydF9mb3VuZDoKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnRzLnJlbW92ZSh0cmFuc3BvcnQpCiAgICAgICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQogICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV90cmFuc3BvcnRfc2V0X3RpbWVvdXRzKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICB0aW1lb3V0X3ZhbHVlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfU0VTU0lPTl9FWFApLmdldCgndmFsdWUnKQogICAgICAgIGlmIG5vdCB0aW1lb3V0X3ZhbHVlIGlzIE5vbmU6CiAgICAgICAgICAgIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZSA9IHRpbWVvdXRfdmFsdWUKICAgICAgICAgICAgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgPSB0aW1lLnRpbWUoKSArIHNlbGYuc2Vzc2lvbl9leHBpcnlfdGltZQogICAgICAgIHRpbWVvdXRfdmFsdWUgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9UUkFOU19DT01NX1RJTUVPVVQpLmdldCgndmFsdWUnKQogICAgICAgIGlmIHRpbWVvdXRfdmFsdWU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0LmNvbW11bmljYXRpb25fdGltZW91dCA9IHRpbWVvdXRfdmFsdWUKICAgICAgICByZXRyeV92YWx1ZSA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX1JFVFJZX1RPVEFMKS5nZXQoJ3ZhbHVlJykKICAgICAgICBpZiByZXRyeV92YWx1ZToKICAgICAgICAgICAgc2VsZi50cmFuc3BvcnQucmV0cnlfdG90YWwgPSByZXRyeV92YWx1ZQogICAgICAgIHJldHJ5X3ZhbHVlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfVFJBTlNfUkVUUllfV0FJVCkuZ2V0KCd2YWx1ZScpCiAgICAgICAgaWYgcmV0cnlfdmFsdWU6CiAgICAgICAgICAgIHNlbGYudHJhbnNwb3J0LnJldHJ5X3dhaXQgPSByZXRyeV92YWx1ZQoKICAgICAgICBpZiBzZWxmLnNlc3Npb25fZXhwaXJ5X3RpbWUgPiAwOgogICAgICAgICAgICByZXNwb25zZSArPSB0bHZfcGFjayhUTFZfVFlQRV9UUkFOU19TRVNTSU9OX0VYUCwgc2VsZi5zZXNzaW9uX2V4cGlyeV9lbmQgLSB0aW1lLnRpbWUoKSkKICAgICAgICByZXNwb25zZSArPSBzZWxmLnRyYW5zcG9ydC50bHZfcGFja190aW1lb3V0cygpCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX3RyYW5zcG9ydF9zbGVlcChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgc2Vjb25kcyA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX1RSQU5TX0NPTU1fVElNRU9VVClbJ3ZhbHVlJ10KICAgICAgICBzZWxmLnNlbmRfcGFja2V0KHJlc3BvbnNlICsgdGx2X3BhY2soVExWX1RZUEVfUkVTVUxULCBFUlJPUl9TVUNDRVNTKSkKICAgICAgICBpZiBzZWNvbmRzOgogICAgICAgICAgICBzZWxmLl90cmFuc3BvcnRfc2xlZXAgPSBzZWNvbmRzCiAgICAgICAgcmV0dXJuIEVSUk9SX1NVQ0NFU1MsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfb3BlbihzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF90eXBlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9UWVBFKQogICAgICAgIGhhbmRsZXIgPSAnY2hhbm5lbF9vcGVuXycgKyBjaGFubmVsX3R5cGVbJ3ZhbHVlJ10KICAgICAgICBpZiBoYW5kbGVyIG5vdCBpbiBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnM6CiAgICAgICAgICAgIGRlYnVnX3ByaW50KCdbLV0gY29yZV9jaGFubmVsX29wZW4gbWlzc2luZyBoYW5kbGVyOiAnICsgaGFuZGxlcikKICAgICAgICAgICAgcmV0dXJuIGVycm9yX3Jlc3VsdChOb3RJbXBsZW1lbnRlZEVycm9yKSwgcmVzcG9uc2UKICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNvcmVfY2hhbm5lbF9vcGVuIGRpc3BhdGNoaW5nIHRvIGhhbmRsZXI6ICcgKyBoYW5kbGVyKQogICAgICAgIGhhbmRsZXIgPSBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnNbaGFuZGxlcl0KICAgICAgICByZXR1cm4gaGFuZGxlcihyZXF1ZXN0LCByZXNwb25zZSkKCiAgICBkZWYgX2NvcmVfY2hhbm5lbF9jbG9zZShzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICBzdGF0dXMsIHJlc3BvbnNlID0gY2hhbm5lbC5jb3JlX2Nsb3NlKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgIGlmIHN0YXR1cyA9PSBFUlJPUl9TVUNDRVNTOgogICAgICAgICAgICBkZWwgc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgICAgICBpZiBjaGFubmVsX2lkIGluIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHM6CiAgICAgICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgICAgICBkZWJ1Z19wcmludCgnWypdIGNsb3NlZCBhbmQgcmVtb3ZlZCBjaGFubmVsIGlkOiAnICsgc3RyKGNoYW5uZWxfaWQpKQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfZW9mKHNlbGYsIHJlcXVlc3QsIHJlc3BvbnNlKToKICAgICAgICBjaGFubmVsX2lkID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQ0hBTk5FTF9JRClbJ3ZhbHVlJ10KICAgICAgICBpZiBjaGFubmVsX2lkIG5vdCBpbiBzZWxmLmNoYW5uZWxzOgogICAgICAgICAgICByZXR1cm4gRVJST1JfRkFJTFVSRSwgcmVzcG9uc2UKICAgICAgICBjaGFubmVsID0gc2VsZi5jaGFubmVsc1tjaGFubmVsX2lkXQogICAgICAgIHN0YXR1cywgcmVzcG9uc2UgPSBjaGFubmVsLmNvcmVfZW9mKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfaW50ZXJhY3Qoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIGNoYW5uZWxfaWQgbm90IGluIHNlbGYuY2hhbm5lbHM6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgdG9nZ2xlID0gcGFja2V0X2dldF90bHYocmVxdWVzdCwgVExWX1RZUEVfQk9PTClbJ3ZhbHVlJ10KICAgICAgICBpZiB0b2dnbGU6CiAgICAgICAgICAgIGlmIGNoYW5uZWxfaWQgaW4gc2VsZi5pbnRlcmFjdF9jaGFubmVsczoKICAgICAgICAgICAgICAgIHNlbGYuaW50ZXJhY3RfY2hhbm5lbHMucmVtb3ZlKGNoYW5uZWxfaWQpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLmFwcGVuZChjaGFubmVsX2lkKQogICAgICAgIGVsaWYgY2hhbm5lbF9pZCBpbiBzZWxmLmludGVyYWN0X2NoYW5uZWxzOgogICAgICAgICAgICBzZWxmLmludGVyYWN0X2NoYW5uZWxzLnJlbW92ZShjaGFubmVsX2lkKQogICAgICAgIHJldHVybiBFUlJPUl9TVUNDRVNTLCByZXNwb25zZQoKICAgIGRlZiBfY29yZV9jaGFubmVsX3JlYWQoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIGNoYW5uZWxfaWQgbm90IGluIHNlbGYuY2hhbm5lbHM6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgc3RhdHVzLCByZXNwb25zZSA9IGNoYW5uZWwuY29yZV9yZWFkKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgIGlmIG5vdCBjaGFubmVsLmlzX2FsaXZlKCk6CiAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfd3JpdGUoc2VsZiwgcmVxdWVzdCwgcmVzcG9uc2UpOgogICAgICAgIGNoYW5uZWxfaWQgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9DSEFOTkVMX0lEKVsndmFsdWUnXQogICAgICAgIGlmIGNoYW5uZWxfaWQgbm90IGluIHNlbGYuY2hhbm5lbHM6CiAgICAgICAgICAgIHJldHVybiBFUlJPUl9GQUlMVVJFLCByZXNwb25zZQogICAgICAgIGNoYW5uZWwgPSBzZWxmLmNoYW5uZWxzW2NoYW5uZWxfaWRdCiAgICAgICAgc3RhdHVzID0gRVJST1JfRkFJTFVSRQogICAgICAgIGlmIGNoYW5uZWwuaXNfYWxpdmUoKToKICAgICAgICAgICAgc3RhdHVzLCByZXNwb25zZSA9IGNoYW5uZWwuY29yZV93cml0ZShyZXF1ZXN0LCByZXNwb25zZSkKICAgICAgICAjIGV2YWx1YXRlIGNoYW5uZWwuaXNfYWxpdmUoKSB0d2ljZSBiZWNhdXNlIGl0IGNvdWxkIGhhdmUgY2hhbmdlZAogICAgICAgIGlmIG5vdCBjaGFubmVsLmlzX2FsaXZlKCk6CiAgICAgICAgICAgIHNlbGYuaGFuZGxlX2RlYWRfcmVzb3VyY2VfY2hhbm5lbChjaGFubmVsX2lkKQogICAgICAgIHJldHVybiBzdGF0dXMsIHJlc3BvbnNlCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfc2VlayhzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICByZXR1cm4gY2hhbm5lbC5jb3JlX3NlZWsocmVxdWVzdCwgcmVzcG9uc2UpCgogICAgZGVmIF9jb3JlX2NoYW5uZWxfdGVsbChzZWxmLCByZXF1ZXN0LCByZXNwb25zZSk6CiAgICAgICAgY2hhbm5lbF9pZCA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NIQU5ORUxfSUQpWyd2YWx1ZSddCiAgICAgICAgaWYgY2hhbm5lbF9pZCBub3QgaW4gc2VsZi5jaGFubmVsczoKICAgICAgICAgICAgcmV0dXJuIEVSUk9SX0ZBSUxVUkUsIHJlc3BvbnNlCiAgICAgICAgY2hhbm5lbCA9IHNlbGYuY2hhbm5lbHNbY2hhbm5lbF9pZF0KICAgICAgICByZXR1cm4gY2hhbm5lbC5jb3JlX3RlbGwocmVxdWVzdCwgcmVzcG9uc2UpCgogICAgZGVmIGNyZWF0ZV9yZXNwb25zZShzZWxmLCByZXF1ZXN0KToKICAgICAgICByZXNwb25zZSA9IHN0cnVjdC5wYWNrKCc+SScsIFBBQ0tFVF9UWVBFX1JFU1BPTlNFKQogICAgICAgIGNvbW1kX2lkX3RsdiA9IHBhY2tldF9nZXRfdGx2KHJlcXVlc3QsIFRMVl9UWVBFX0NPTU1BTkRfSUQpCiAgICAgICAgcmVzcG9uc2UgKz0gdGx2X3BhY2soY29tbWRfaWRfdGx2KQogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKFRMVl9UWVBFX1VVSUQsIGJpbmFzY2lpLmEyYl9oZXgoYnl0ZXMoUEFZTE9BRF9VVUlELCAnVVRGLTgnKSkpCgogICAgICAgIGhhbmRsZXJfbmFtZSA9IGNtZF9pZF90b19zdHJpbmcoY29tbWRfaWRfdGx2Wyd2YWx1ZSddKQogICAgICAgIGlmIGhhbmRsZXJfbmFtZSBpbiBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnM6CiAgICAgICAgICAgIGhhbmRsZXIgPSBzZWxmLmV4dGVuc2lvbl9mdW5jdGlvbnNbaGFuZGxlcl9uYW1lXQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgnWypdIHJ1bm5pbmcgbWV0aG9kICcgKyBoYW5kbGVyX25hbWUpCiAgICAgICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHJlcXVlc3QsIHJlc3BvbnNlKQogICAgICAgICAgICAgICAgaWYgcmVzdWx0IGlzIE5vbmU6CiAgICAgICAgICAgICAgICAgICAgZGVidWdfcHJpbnQoIlstXSBoYW5kbGVyIHJlc3VsdCBpcyBub25lIikKICAgICAgICAgICAgICAgICAgICByZXR1cm4KICAgICAgICAgICAgICAgIHJlc3VsdCwgcmVzcG9uc2UgPSByZXN1bHQKICAgICAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICAgICAgICAgIGRlYnVnX3RyYWNlYmFjaygnWy1dIG1ldGhvZCAnICsgaGFuZGxlcl9uYW1lICsgJyByZXN1bHRlZCBpbiBhbiBlcnJvcicpCiAgICAgICAgICAgICAgICByZXN1bHQgPSBlcnJvcl9yZXN1bHQoKQogICAgICAgICAgICBlbHNlOgogICAgICAgICAgICAgICAgaWYgcmVzdWx0ICE9IEVSUk9SX1NVQ0NFU1M6CiAgICAgICAgICAgICAgICAgICAgZGVidWdfcHJpbnQoJ1stXSBtZXRob2QgJyArIGhhbmRsZXJfbmFtZSArICcgcmVzdWx0ZWQgaW4gZXJyb3I6ICMnICsgc3RyKHJlc3VsdCkpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgaWYgaGFuZGxlcl9uYW1lIGlzIE5vbmU6CiAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIGNvbW1hbmQgaWQgJyArIHN0cihjb21tZF9pZF90bHZbJ3ZhbHVlJ10pICsgJyB3YXMgcmVxdWVzdGVkIGJ1dCBkb2VzIG5vdCBleGlzdCcpCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBkZWJ1Z19wcmludCgnWy1dIG1ldGhvZCAnICsgaGFuZGxlcl9uYW1lICsgJyB3YXMgcmVxdWVzdGVkIGJ1dCBkb2VzIG5vdCBleGlzdCcpCiAgICAgICAgICAgIHJlc3VsdCA9IGVycm9yX3Jlc3VsdChOb3RJbXBsZW1lbnRlZEVycm9yKQoKICAgICAgICByZXFpZF90bHYgPSBwYWNrZXRfZ2V0X3RsdihyZXF1ZXN0LCBUTFZfVFlQRV9SRVFVRVNUX0lEKQogICAgICAgIGlmIG5vdCByZXFpZF90bHY6CiAgICAgICAgICAgIGRlYnVnX3ByaW50KCJbLV0gbm8gcmVxdWVzdCBJRCBmb3VuZCIpCiAgICAgICAgICAgIHJldHVybgogICAgICAgIHJlc3BvbnNlICs9IHRsdl9wYWNrKHJlcWlkX3RsdikKICAgICAgICBkZWJ1Z19wcmludCgiWypdIHNlbmRpbmcgcmVzcG9uc2UgcGFja2V0IikKICAgICAgICByZXR1cm4gcmVzcG9uc2UgKyB0bHZfcGFjayhUTFZfVFlQRV9SRVNVTFQsIHJlc3VsdCkKCgppbXBvcnQgY29kZWNzLGltcCxiYXNlNjQsemxpYgptZXRfYWVzID0gaW1wLm5ld19tb2R1bGUoJ21ldF9hZXMnKQptZXRfcnNhID0gaW1wLm5ld19tb2R1bGUoJ21ldF9yc2EnKQpleGVjKGNvbXBpbGUoemxpYi5kZWNvbXByZXNzKGJhc2U2NC5iNjRkZWNvZGUoY29kZWNzLmdldGVuY29kZXIoJ3V0Zi04JykoJ2VOckYzRnR6SmNlVjNmRm44bE5BRXpFbUlCNVNkYitRaENKc3hqdzQrQ2lOWHhETmpycUtJRnRvQkhCSWRjdmo3KzY5L3d2b1drMDJxZERZRG5jSEpUUndMbFZaV1ptL25XY2xQcjc5Ni8zcmgvUEY4dnIrN2VueC9QRGpjajQ5dm4zOGVOMzJpK1c3SCs5K2VMeDg5WGcrWGR4ZGZmSHhSL3ZyaDR2Ymk5dTdpNGZwN2kvYlpYRjZ0ZDNsajY5Ty9QaWp0N2ZicS9VaXZuRnorOFh0cDNjdmVKV1h5OTh1Ly9iNlljMUhQR3puSHgvdStPZE44ZUtycjZybTZqLzByekwrVlhiUC82cmlYOFBWZi9CMS9mUXlqOVY4ZWQ3ZW5JL1h1WGgxKzNpK2pNZGNMbGQ1YUVzZUdnL1JNK2JxOFhLK3Zac2UzdHB6L3VWZlB2Lys5ZTNkNWZMZHcrWE0wK1o4MnRQam5vNzQ5ZDB5blYveTh0TnB0bWRQbjg0ZjMrNFgwVUtmLzdROVBONit2bnQ1ZTdlL2pwUDU0M1VkRDN0RHkxenp2eDkvOUl2ai9paWVlL3Q0ZS9kNG51NldqVytmNXJmbjdaRWZQcjlKZnZ2ajUzL2RmT0Q4WGp5OTlQc24rUHgwWHZENSswK1AvTUFaMlNucENWY2ZiNjhldC9nSi83NStOZjExWHFlTHg5UDJ4ZVBIMjEvdnoyK3YxVDgrdjUrV0h5NC8rZVRxNCtYVjlQaDQ4Vi8vN1U5Zi83ZXZMMS9QMzI4TFozbjM4SGo5UDh2dWk3STRWYzBYWlhXcXF5L0s1bjlGSThaaFhOK1VwK3JVbklaVDJjVVBUbDF6S3F2aFZQV25OcjRxNHF2NGZ0bVhwNzQvbGZHdHBqK044WU5oT0kzanFSemphVzE1YXV0NGFCY1ByZUtoOGUycVBWVnR2RnVkRDRubk5XMDAwWit1Yi9JcFZUeTd6UCt2NDJqaThVWDh2Q3g1WEJPdkZ0K29UMDM4TE42cktsdmV1aXpqTUlwNGJCMnZXWlR2WG44WVQvSFRxaW5pVWJYZXZjc2ppR2UxY2RCNUttWDhOOGIzaG56Rk9NbzQvSHJJVSt2eTdmdDR1ZWJVNXZQaUZhc3h2cFh2Vm5QU1RmeXpQT1h6eDFNZEx6bkdRK0pmOGI0dExSSEhQYWl0cWpqMWVFU2ViUi9mS3FPSjRsamp1WEVLWFRabEdVMC94bEYyY2N6VnFjMFhibWlwZUxzcWZoNEhVa2JiNTBFVzR5a2JyczlyVWVXUlJidVBwWm8zV3FhTWwybjdVeDl2MzUyR2JKWThoMEZOM2NjejQycDBmVjZzK0tLczYxT1hKeFgveFpIMnA2RTR4U0dVY1FCbE41eUdlRVEwUXpaVGswMFRUUll2SFMxWE5TMVh1SXlEcmVJazQyV2lQYW8yR3lEYkpxOUNQQ0plTTE2NDdrNWpTeS9vOGpEaWU5bjBjVUp4NmwwZWVKeDZObjQwUW52S24wVXp4NWxYVlhHcW96dkZpMFF6bGZFcWVmUjF2bW0wV254WlZYUzBhS0I4bDJqNWJQajRjWEdLYXgxZE5kNDJEeUI3U2J4TEg0OGVzcVBGZi9ud3ZETHgxTGdJVlJ4QUhIa1pEVnRtYzhmVnpZc1U3Wks5ZThpempkZW9zN05uejhvVzUyNFk4bERqR09QcXhHUHlHZkdOYU1EczgxVmVuQ3E3U2h4STNCclpYSG5KODcvc0FIRWJaWi9MczY5T2NXaloxK0xaelNrNmVmVENJYnRPUENmZk5Oc21udFptTjhyMnpSc3FqeUdlR3YvTS82ZUo4dHZSdytMdG82TlZkWGFVdVA3dHFjbVd5b3VYdlN1dmVQYWtlTlU4OTdqWThhYlJ3YnU4UG5GWDVmL0ZTOGNUOHc2T2psUGxiWGw3ZlJQWGVYeTZnK3U4Qy9QV2p5ZmxUUlN2bEIwaytra2VZOGs5VW5OblpsZkx1ems3Y050emMrWXg1azJWN1IzSG1TY1NSeCtkSWJwRzlvdThxRHI0bW1QZ3lJZThzclJ1WE14NFZsZlNEL3FPU3hrWHQrdTQyL01HakNzMzVQWGdYS050OC9TamplcnU2YzRidUZlaThmdGFWend1U2Q1UzJTelIvTm04WEltaVVPc1hEYzJkaDhYbzBXU255akZock5VZmhrbzNScUhMR3RkeUtCaEo4aGJOaTVqM0I1MHcrMjllMk96Nk9ZcTB1cWV6ZHo4UG9ZV3VVOTYyMldjTGpVRFJ0K0k3TFIwL3g0VG9tUjMzZER3ejJ6U2JPMDZWSzVEM2NSN2FVNCtyYzd4ODZuUXhFTFJQZDBDZlZ6ekg0V2ptdk0vbzNXM0plS3NCbzlPb21lZVNiNUhkSWxzNFRvOHUzWERuNUtDYVkyWmVzQnpING1ya0VKQjlYNk1jUFM5dnlKS0JNeDdEMk1td3hyaGZQNDN0TWJCeGQycUlhaGpGcXA3eExXNnp2Rnl0N3F0NHNieHZzOTBZLzBkRzc1d0w4bDdNVVNlZm1RMVQ2Z2FNanNWQTErVndIQU4xOXBoZUkzT1g4MFBla2psRWE1U0tMcGczWlk3SU9TNjIzS045RGo5NWMrUUV3QUNRNHlOelE4bEV3dGphRlJxRVJpYkNucEdMY2JMdkdHSnlBc2g3S3NmWE9MaWg1cGFMUnFpWXpockdRd2FWVXNOL3JUdWUyN3pJeVRRNlV3NjBPVkxuZFBubjh2cW1lTE4wWGQzVlUzc3EzdXhEdi9STGRKTGl6YmIxOFNlZUU5L3Qrcm1maHpXLzNQZHFyNHI4Y3UyNnVadG52dHk2dmR2bjZIMXZ4bkpwbDdiTlYraUtPdjdHTlMvZXhHa1cyVlBpemJhdTcvb3BYN2J0cXJtYSszeUJyZCszZlN2enUzTzc5bXNmMTZ0NDA2elRQTTFibHc5WTRsbmRPTVdYdzc1TXk5VGs0WmI3VUEzVm1LOHdqRXY4YmZMTjlpbGVZSTEyaXFmdCs3UlBaVDUycnRxeEhiYzVIN3MxZmRNdm5OcThGM3RSNUhlYmNscW5kVnZ5c2ZYYXJFMlhyOUR1VXpWVmU3NUYwOFpyN1ZzZVExeXVlTHQ1endmVVV6TTFPKy9XOUZWZmpYbTg0N3dVUzlIbTYvWnRORjYvNUFsdDViN3VhNWx2VWE5alBkYlRscSs3VkYzVmRmbTYzUkpYb212enkzNnI5M3B2c2szM2R1LzN2c2hYR09vbC9qVDV4dDFRTjNYVDVvdTE1ZFJPN1o2TnZwWmJ1N1YxZnJtUGU3bm5xQkp2WFBVeE9JeDVBYVo1SGFKeDhzc3U3c0E2dTFDY1VEUlNmSld2T3hSTi9NMlhIZHZvREgzTHBZakhSZ2ZQaGh6WHBWN3FObys4THFKenh5WElML3V4RzdzcEQzZUthOTRXK1ZMVlBrN2pOT2V6dHFLUHY5bmtjUnZIUUZobks1WHpVQXpGbUsyMDdsdTFWWFcyODdKdTh6WlgrWUFtRHJ5SzY1N3RzVWRucVJaNnk5UzNmVHZtTzhRdE94WmptYTlRcmtNOTFHTWVWenRVUzdYMDJRaDFYTlp5cWpqYXJwekx1YUxETHQzV3hYdmt0WTdMMms0YlQ1dW5ZaXIyZkxIb1h6Rnk3SGtNZlZmUDlkemswNkt6ZHRIdDh5VDdOYjVaTHp3dGJ1cHE3RG1MZGF1M3V1YTdXOXdvZTQ3SWIyTHNiSVptekM0eWRXMGR6VXlISE5keXpjRWwrK3hTYnV1MlZ0bnFUUkZEY2RIbGQ2TUxMUHRTNW9uMll4eDd1V1JUejEwN3QvUEdlVFRkMU1VdGtwZHRYZVpsYnZLSTQzYU5GbHhwdGVpcDlkamtzWTFOOU5QbzRQbmwwQ3pOc21iN3pFVTd0TU9Xcnp1MDhXWjdrNTB2YnV0aUxicDgydExHbmJsWCtkMW1uK0xQeHVWYzQ4Nlp5M3kzb1l0dVdDOTBqU2x1bTNYTkU0MHhKZjYwM0tVeGh3M3RtTzgyUkx0R2w4MFQyc2JvbjJOWkhHZWNYVFlHZ240ZnJCZmx6L3ZvOWZYUzVBdkVUUnhQbXptYWVScW1ZYU5QaHhQYWNzOHYyM1dxcDNyZmpvNWMwQ0gyK0p2UHF2ZTRWdFdValJkRC96cXVjN1o1WDBUWGlZdVVoMURHN2RZV0RHQjF0T2l5MHZ4OWpIWGR3b0h0TVV4RUQ4eERpUG1oU3JlOEcrRzRhbTJNa251Wjd4YTNlOXpGUlI3TnZLL1ZXbldNVmVXeVJ1dm5HOGYwR0FORnlhbDFjVE5HazJXYjE5dXlMVlcrOFJ5djFzYlFtSWZlanYzWVR3d0RReE4vbG55RmFvczd1Ni96WW8vUlNFdlRNbXkxVXovMWV6NTJYL3F0MzRiOHNwL3FOWWEyZk1BU2w2MXJKa2E3cVYzYmRjdnYxdEVtTVJ2bWRZOXh1bzZYNVhDaU4zWnhaK1R4am5IRDV6UWE3N1kxZXhPaldUWkpIZWV6OUhtOFRiUkp6T1I1TWRzbVJzNnA1OWFiNHk0dHBuemRlY2cvMldUREVrZlFMZGxPY1lqeHA4cVRpQ2xsaUxtR05oMUNPZEcxOGgzNnVEMjJuZ2tpZW1RYkQ4Nmo2WXE1bU10czAybGQ1M1h1ODMzWGVTdTJvczQzaTY0WjQxYkxiZHhFdjVpYVBKb1FVdHpvSlhkQ2lLT0pUbkNjWlo3REVJcUpJK05vWXpaYnRydys0eDVqU3RVeURxelJqSFhINEYzSFpMUnNlZXB4T2pHUVQvbG05UmpOV0U0TWpHSEtzWjBZbSt1dDJabzZHM3F2NGxLT0EyTkdHNWVucjdtczh6TEU3TXZZdkVYcnh5Q1hENWhpMElsem83dms0TTJCbFhITjJvNERXK0pWWS9ESW84bnhkdHp5U3ExRHQzUXhJR1RiTEczWGRqc2RNcWFVdlNub0FUR1ZiWEhuNUpjeExNV3NreWV4TjlGdjRyYktGK3ZqNTl1V2h4Q1lqWkc2elBPSmVUNW01UlV0RlAzUXg4WE14OFlMUlRzeklTNHhrRzk5SGs0ZFBiMWNxanlHdG8rQnF0c1pPbU0wblpzbGoySHM0eGk3TnIrN3pGc01ReFczYzduR256NVBjeHRpcG01R1pzeVlQY3U5QWhsZHZFQmNoRHljTWk3N3VpNmNjZlljaHBFaGh3YWJkaGhGNHE2S0M4QjlVTVlBMmk1NVhFdm9KK2JlYkp1eGlGRTZtdmVnUzc1VUg3THBDb2J4SmJyVlZ1WUx4SXdkNWNIRWhacGlRRy9iUFBNWUdtTmkydW5GNHh4L1YyNlpmdWlHYnVTNHgyaU9ySEhpYk9Ja3k3WEtSb2l1c0FWTXVOVGpWbTVKN1RqeU9ZZXNrdnRnSG9mb0szd1pxaTlUeS9IWUtpYmNjV2EyeW9GczdEVldaalBtYTlVeDdvL054RHVzZVRnelBUTm1tbktydUh2YXVIcjl5UG5rRVl4VnZrQUlNQWFmSmw5aG10cjRzM05SaTRCV1BEeS8yNFpoOXA3QmRNait5cy9IbUdXRFkwd3UrWmN6bjJJU1dVdW1nemFtaXhnNDg3ajdtSHE3T3RzalJyRzQweFp1MmlJYUtTNWZmamVFMEpRTHB6dm1uNWtoZklyaGMrMjVDN2FZRi9hU3ZqVEhBRkFzTk1JUVUwdXpaMCtJdXlYK3JQbTYxUklYS25TYjJxMVN1MU1yNy9MMjhpNVhSdDVsSXBWM1FRbmMxUjBQZDNYbndWMUdPSEdYQmxLZlFVVk1CbHdYY1JjdmlMdU1vZUl1QWhOM0dXL0ZYYVpSY1JkemlydTRTOXhsd2hSM3VWemlMdGRUM0tYemlMdGNXbkdYS1FqdHdtbHBWMWhBdTh4VzBpN0Vrblo1bHJUTHpTRHRjZ3RLdTdCSjJ1VytrSGE1VzZSZDdndHBsN3RGMnVXQ1NydlFXOXFGakdBWGJRaTdEQ25DTHVPVHNBdnRoRjFxQXF6TEhDanJNczdJdWlCZDFnVUFzaTRqUGtTQWNMSXVQVlhXaFhDeUxsT1JyTXZvSk9zeUFLSVVxaFpabDJHRVFRZHd5cnJVQTdJdThwZDFtZkpsWFFZTVdSZi95cnJNT2JJdVZwWjFtWGxsWFdZMVdSY0l5THJjNzdJdVpZK3NTMFVuNjFMMnlMb1VkN0l1OVphc3EyRVY2MUt4eWJyY2JiSXVvN0dzeTJncTZ6S2V5N29VTGJJdWxZcXNpM1NyUmRabGxKWDhxT1JrWFdRaTY2Sk1XUmNIeWJyVUlySXU0NldzQ3dkbFhjcFJXUmNneTdwTUpiSXVzNVdzSzI1Z1hXb2dXUmZDeWJvWVE5YUZ3ckl1ZzVpc0M3VmtYWWd0NnpLN3lycE1uckx1Y2NZWVVOWTllaEVTYm1SZFZDYnJVZ2JJdXN6ZnNpNVdsbldQanN6d0hhK1YySVZFd2k1bUVuYkJqYkRMSFlaMUdlaGtYU29SV1pmS1ZkYUZ3ckx1TWJ4cGdKZDFxYlNocmdaZnFFdGxLK3BpTGxFWHg0cTYzTzJpTHJXeHFBdm5SVjJtWjFFWFU0bTZZRUxVQlZLaUx2T0dxQXRkUkYzd0krcXl5aURxTXFXS3VsUzVvaTQxaHhESUxDYnFVbEtMdWhTaG9pNEZqcWhMcVM3cVVsMkx1cFRxQmRiRlY3SXVNNXFzQ3dkbFhXWmxXWmRDVDlhbGFwZDFLVzVsWGVwUldSZFd5N29zcHNpNkZNMnlMak9sckl1S1pkM2pORmx2a0hWWnZKQjFxYUZrWFJncTYzS0ZaVjJxV0ZtWFdWZldwV2FXZFZrTmtIVXhyYXhMZFNIcndtWlpGenJJdXFxdnNTN0ZRUUYyUWJ5d2kzbUVYV1FuN0ZMQ0M3dXMvUWk3WEN1c1M5RW82MUs4eWJxc0FzbTYxS0t5THNLV2RZRzVyRXU5SmV2aVgxbVg0bHJXWlZGRDFxV0FsSFVwYTJSZGxtaGtYUmFQWkYxTUt1dWllRm1Yd2xUV1pVRkIxdFdhQmRhbDVDN0FMa1Y3Z1hhUGlZZHhwSkoycVVxa1hUd243V0psYWZlUUM0TXcyR1ZaUmRpbHRoTjJXUXNUZGxsYkVuWWxON0RMNHArd1M4VXQ3T0piWVpjMUQyRVhPd3E3ckk4SXU2eThDYnY0VmRqVmNnVFlwVklYZGxueUs5QXU1YUcweStxSXRBdVdwVjNxUEdtWFNsM2FwVnlTZGxuWWxIWWh0TFJMd1N6dFFvd0M3bEplaUx1c01SUjRGK2ZMdTZyWThDN2xuN3liVjZLVGR5a3I1VjFxZlhtWHRSaDVsL1VHZVpmbEUzbVhHa25lcGFxWGQ3VVFpM2VwS3VUZDFHNmQyczExM2ZRdWZVM2U1ZFhsWGFaMGVaZWh0QUM4bWhVQnIrbzl3TXY4Si9BeUNhamJNTDB4STBCSmdaZnhWZUJsbmhKNG1UVUZYZ1pLZ1pjQlRlQmxvQlI0R2MwRlhnZ3I4TUpvZ1pkYlhlQmxDQkY0R2ZrRlh1YlZBdkV5RlVxOFdqSkR2TXd6RWkvamdzVExqU2p4TXFKSnZOenJFaSt6cmNUTGdDWHhnbWVKRjROS3ZBaFA0a1dERWk4R2xYZ2hkUUY1bWV0RVhtZ3I4bEp1aWJ5b1JPUmxrQ2t3TC95U2VibXJaVjc2bmN4TFhTRHpVamhBQllZbW1aZnhTT2FsTThxOERJUXlMOWFYZVJrczBBcEZpc3pMUGNuUXc3Z2g4M0pueUx6TVl6SXZoWW5NeTdBZzg0SlVtUmR6eUx5TUpwQ1hxVlRraFk4aUwvb1FlY0d4eUtzWkMvSlNZWWk4VEhraUw5WVhlWmsvUlY3ZFJKQ1hNVWprWmJZV2VVR1l5SXRhUkY1S1NKR1hHa1BrUlF3aUwrRE5aZDBrTDBPUEFNajlLL0pTVUlxOGxGSWlMNVdTeU10dEwvS0t3WkFYRDRtOGVGYmtoVndpTDBPd3lJdEdSVjROMTVDWEdWM2taV29RZWFrTlJGNW1hWkdYMmtEa1pXQVdlWmw5UkY0cVZaR1h5VUhrUGM2WTZWamtQVG9SeGRBaThsTHJpTHlnUXVSbDNoUjVtWWxFM3FNZnc2eGQ1R1dRRjNrcGxrVmVKaHFSbDVxa3dMeUlXT1pseHBCNUdiaGxYaVpobWZjWTRiaHN1OHdMeFF2UXE2VVkwRXZ4SnZRaWFjekxCQ2Z6VW5uTHZFeW5NaTkxazh4TENTRHpNcVBJdk16aU1pOXpuY3dMUEdWZXFrcVpGeS9KdkVoTzVtWFZRZWFsTUpaNUtVaUVRU29TbVpmQ1FPWkZIVEl2MDZuTVM2a2s4NklPbVJjbHlielVhREl2WmFmTXEya1A4MUlQeUx5VWF6SXZGYmZNcTJXV0pDOXlGWGxCbjhnTEprVmVaajJSbCtJYzhUSzNTN3pIU2NJMGlaYzFCWW1YVlF1SlZ5Wkh2QlFPRWkvTE5CSXZnNUxFUytFZzhZSm5pUmUvUzd6VUd4SXZSYTNFaTQwbFhwVktpSmRWSjRsWDdrUzhVRjdpWlMxSjRrWHRFaS9zbDNoWkdTa2dMNnMzSWkvTEdTSXZtQkY1V1pFUmVibnNpSmVLVStLRlFCSXZlSlo0V1dHUWVGbmRrWGdwQmlSZUlDN3hnaDJKbDhKYjRvV3pFaThyRnhJdjdwUjRxZUlsWGkyNUlWNXFDSW1YK2xiaVBhWWRPc01tOGJJU0kvRlNva204VkwwUzcwRVhsajRLeUV2MWlYaForWkI0S1ZRbFhpcE9pVmVmMnlGZUhDN3hjck5Mdk5ScUVpOHJOUkl2N3lEeDRrZUpsekpUNHNWNUVxOVdqeEV2S3h3U0x3V0x4TXRDZzhUTHlwTEVTN1VuOGJJc0tQRlMzRWk4TE9WSXZLeGFTTHlzYlVtOHJBTkl2QlJnRWk4M2xjU0x1U1ZlSmpuQXE0KzJBQytybUFJdk5ZakFxd1Vnd010U244RExtcXZBeTRLVndJdHM4QzRjbG5kWmFKVjNWUXZnWFpabTVOM1ViaVB0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlWmN1bzA3RFhNQnNnSGJsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzBhNjhpM2JsWGJRcjc2SmRlUmZ0eXJ0b1Y5NUZ1L0l1MnBWMzljRW0za1c3OGk3YWxYZlJycnlMZHVWZGZacUNkOUd1dkl0MjVWMjBLKytpWFhsWG44bmlYYlFyNzZKZGVSZnR5cnRvVjk1RkNUZ0I3Y3E3YUZmZVJidnlyc3Ardkl0MjVWMmdBbFhRcnJ6THNNUEFveW9aNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OHl6eUtkOUd1dkl0MjVWMjBLKzlxS1Jqdm9sMTVGKzNLdTJoWDNrVzc4aTdhbFhmUnJyeUxkdVZkdEN2dm9sMTVGKzNLdTJoWDNrVzc4aTREZ2J6N3BGMTVGL3RKZjJoWDNtVmVsM2ZScnJ5TGR1VmR0Q3Z2b2wxNUYrM0t1MmhYM2tXNzhpN2FsWGZScnJ5TGR1VmR0Q3Z2b2wxNVZ3RWd2SXQyNVYyMEsrK2lYWGtYN2NxN2FGZmVWY3dHN3g1bmpIYmwzYU1UU2J2eUx0cVZkOUd1dkl0MjVWMjBLKzhlL2ZoSnUzZ1g3Y3E3YUZmZVJidnlybUpEZUJmdHlydG9WOTVGdS9JdTJwVjNqeEZPMnBWMzljRXgza1c3OGk3YWxYYzFUcVIzMGE2OGkzYmxYYlFyNzZKZGVSZnR5cnRhUDhHN2FGZmVSYnZ5THRxVmQ5R3V2SXQyNVYyMEsrK2lYWGtYN2NxN1FGQVVmR0pQZWhmdHlydG9WOTVGdS9JdTJwVjNkWmZpWFdrWDc2SmRlUmZ0eXJ0b1Y5N1Y2amZlUmJ2eUx0cVZkNW5yOEM3YWxYZlJycnlMZHVWZHRDdnY2ajVQNzZKZGVmYzRTYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzcFYyOGkzYmxYYlFyNzZKZGVSZnR5cnRvVjk1RnUvSXUycFYzMGE2OGkzYmxYYlFyNzJxY1R1K2lYWGtYN2NxN2FGZmVSYnZ5THRxVmQ5R3V2SXQyNVYyMEsrK2lYWGtYN2NxN2FGZmVSYnZ5THRxVmQ5R3V2Q3Z0NGwxcEYrOGUwNDYwSysraVhYa1g3Y3E3YUZmZVBlaUNkdVZkZGF6MEx0cVZkOUd1dkl0MjVWMjBLKytpWFhrWDdjcTcrbVFDNzZKZGVSZnR5cnRvVjk1OWlnYWtkN1dxaVhmUnJyeUxkdVZkYVJmdm9sMTVGKzNLdS9wc0ErK2lYWGtYN2NxN2FGZmVSYnZ5THRxVmQ5R3V2Q3Z0NGwyMEsrOUt1M2hYRTBsNjkrbFQ5RlVWbFlJTXJHY3F5TUJDa0lJTXJMQW95TUFpcG9JTWxiUXI3MHB0NlYyTkFIZ1g3Y3E3YUZmZVJidnlibXEzVGUzR1ZCSE53cG4wVzFOMkxYU0xvKytEWUxWV2cvdndEU3VPMGQwN2ZXWmE3dVBhdEV3TDA3SlA3WUNnbW5tTHJxSTF5K2d5dTBxREtialF5Y3ZEc0N5OVlpd3hyVlROd3R6VjVCVFY2M1BiTm1iWG1jYW91cnB0R2lhc3VZM0JwTWE0NnphWE1ZVFFBdTA4bFRNVGU5TnVVOHllR3IvM0xZb3dacE02ME5FK2ZWTGFMSHNoR1FWbVkrcGdrSnB6cVFmcXg2dkgxTUx5WXh1VDRnTHo1cjFibzhDbDE3VnhVNC9LbnNScERqWGRKNHFqcGlvWnhKb1lhanA5ckQxczRXR3R2dlJSNmc0ajk4UGVEREZtYTk0ZTI2SGVPaTFnem9HaFZWQ0pZWGlmbFFrWWhrbWhseVY2NHFUNnMxK1hMYWlxVk9FYTE0MlpjbXZqNWl2VlBmbzI3Z2RLaks1cTYzNUg1MEdUbU9hNDZhUGJ6OU9tajlhM0lTb3ZmZGcwRmtQVWp4eHZsTGVkUHQ4ZTR0azVwWEh2ckZ1MzZDYUlBOTZIV2F2dmZRejlsYWpmUkxmVTRtd2RIWDl2RmQ5czIybEcwWE1Wd2h5NEVhdEE1Vkp4bHd6ZDBzYjUwNmgxM1JlRElobFJSZzZLSFZiMUhKMklLaVdlMGVsenRDMmxxREYxaU00WG95cjFTdFJuYzhQa0ZjaUlwek1VTjFzM2JoV2paOWV1MDk0c3lneWtHYUZkV1RkZHBaS3BpVUY1VTc2enFhSnN3UFJSN3NTSXBqWGZZZHBLTkJBbFRzeDQxREJ6WE1oRjY2Y3haVzRhSHRvdDZvdTkwSkRjYldWQkxSSUZSemxNRkNCanQ4WjRTTG16cnZWV3RNcHdSeXZQSzFYRldMWXgrbEwyOVdVNFppMjA4dDdGajNlZFFWRnFDYkVjeDJHZkszMklNNGRwbVVHR0tQOGFmUTdROVd0VXJtQnRMdUxpVjh6VmZRNmptQ2tQdHAyWm1Qcm90OXNHRm1JRVdJcUorYTVmbXFyWU40M0RRMU51aTVnZXcxcDBGZ2FKcWtwNER4cFJ5eGg5ZWVPbG5hSm5VTE90MFRZN2hXVU1pL1ZBbVZ1dlUxeUZVckhxcUVVMDZrZlZrYXMzaklIdE1uVUs2K1VjcFRvdTV0QXVhaGpXdElzcDZsTFZqMjNJUVJWL0UvTjB4MHhRNXNRamxKRWJrTmE3Y28zK2g0L2orUHBtWm1LS3lhaUtZUTl3Vm1NOTZ3UHZlSWVpRWw1amdxdENFN1ZxdGprR2N2RnFqT3BBbjN3Tjg5SXJGQnoxeUVReGsyamJvc0FmdFB4VEJoY1pFbk5jNnBVb2lRdTJhaWxpaWp1MksrQnhWTGhsMVkyS1F2WlI3QUs4cHVseXVabTFwSmhCZWxWeXc5elVVWE5Sak00eGwzV3JGcVMzZFZjOVBBOWJDTDVUNUNTbW1nWGJOREhBRHEwaUdQWFlWNVZXd3B2d1E2a1FYOXRNVmROTDYvTWNJdzUyMmZheDFncFRITmdZTGNhOHNzWnR0ajk5eEJ3SFVXaEplK2phYXRPSGhVc1o1VDA2aXBjcXUwNUE2NHRaaXpmUk1qSFlzMHJSOUhIOXRFUThEWHZNcVZxeGp2cW5WaUM2alI0ZHhlK2dUMmZyQUEyckg0R2paZ1BONnhoczBPZkc4ZXdwN21FRjF0ZW1tS2w0NDA1dmh4THRUVzFjczAycWpoRnQyUFE1Mno1RmNVTEZXeTMxTks0c1k4UTFHMFp0WE9tbWRsK1dVVE50ekp3ZDZ3WjdsSnlsSkRUeTZUcFlpOTQ2eGdXbkcrYXI3YXhkakh1N0RnVzFUQmM2R21zczF1MXJXNjNnWlltU3BheFlkbGxpb0J0SEtvYW9ySWJ3cjVRWWM1Y1N4Qm11bWpYeEwxRlk5UVBlNkxaMkxBZXQ1aTVqbkIxWUh1b21YSVlNWW5Sc2d4OHFaL2Q5NjFoZ2lkNjl4R3pKQTRLcFlTaEdzaW1tcjNuVlIwWGRYbmVzV2tYbjNvdVJtcnNLbXZRTEsyQjFPVFV4OEZNVVJnVWFGNG4rRW8wMk5vbzN0bE1VUmhSUmZkTnM4NkpBOHhMdE03RWU4SFJmOGRoNjZ0ZWhmUHJFTWorWW9wZkVNQlFET3VQVHZxeHRvZFdVZml6M1Rrc3NYWlRmV2dKbzZtMmZDMWJPc2pzMGE2dXd5aGgxTm1zc1k4d3BjOHZTUXZUL2FSaFloSWtSWVNuM1dSOUZ4RnhXOXFxVG8rQ2FLTkRMWVluSlFaOGpEekdTd1BoNHA3a3BLVUdqczhVb2dkSEdHQk5XSmVTMnFQUmJmZlFWMDBETXpheUZqTW1ra3ZLdjdxZXlXSHA5S0IzdWJWaWJDL2pVOVRJSXBWT01sZm8wSko2MGpKVEJNZkF1VVF3eXVNZkFIUS9uRTdIb0QrdU9SSU92Z1d5Sy9USkJwQ2g4WHk5UlhqMXRROXJqQXJLU0ZIUExHcXBWZ0xWZW8xeUJCNkdhVmZIb0pUdE1UZFUrajkyd05MVUNHVEU4TjVVK0VKbnFwbUNwc013aHQrNFZJZ3R2dDZvc2gzcHBGRi9mOTJJZFd4WWI2M0VhQ21Vdlk4eU9VV2RUS2p2cU9vcTZybW03cFZRWU95dzZOSjBLd0tnSU9zVldVaFhhdHhNZGFHaERhS25kRHUwVzhpN25LdS9pUkhtWGlWbmVaU3lWZDdXY2pIZTFDSXQzbVhQa1hWcFczbFVVRXU4eWljdTdXRlhlcFpQTHU0ekc4aTduS3U4Q0wzbFhuei9oWFdaeGVWYzdiL0F1MTF6ZTFUaVYzR1Y2RW5lWlVzUmQ3ajV4bHhtL3dMdTRWdDVWM2hmdk1oTEt1OHhsOGk1R2szZTUxK1ZkSmlWNWwwRlIzcVdueUxzb1c5NEZPL0t1bHBEd0xqZXR2QXNaNVYzbWNYbVgzaXJ2TW9ES3V4aEkzc1gvOGk0RGg3ekxYQ2J2TXJ2THUyQlczaFhmOGE3MnBPQmRmZXlCZDdtNzVGMG9LdTlxSXh6ZVpVNlhkeG5vNUYwNkp0d0ZSbWlYKzF2YVZmZ2Q3WUlHYVJjaVM3c010UVhjMVNlTWNKZUpVOXpWaDlSd1Y4VWYzSVZzNGk2VGdMakxyVkhnWGFvMmVWZHl4cnNNYVBLdTFvTHdMa2RlQUY1Rk9BRXZkMmVCZUprd0pGNW9EWGhaZXhSNHFTb0VYdTFUQkx6d1FlRFZnaGZncGNBVGVHbFJ2TXRVV0FCZXhnZUJWenYvQUMvbGpzQ3JpQ2ZnaFJvQ3I5WkRBQytWWjRGNEdhTWtYbjBxakhpMVVRWHhNa0JMdkZSZkV1L3BLWXdKZVJsa1JGN3FYNUZYMVFiazFaSXc1SVVyQmVZRnh6S3ZBbTJZbHlHdEFMMEtESUJlSlVaQnIycHcwRXN4VjZCZU5YQ3JJR1R3RFBRcTFnMTZsWDBIdlZReFFpL1dFSG8xTElOZUxndm1wWnlVZVprMlpWNHQwR0JlMVJBNU4xUFl5N3pLNUdGZXJDTHpJa2labDJsVjVxVUlsWGtwQzJSZU9DVHphbk1XNW1VOVFPWlZuQW56TXJYTHZHaFQ1dFVIaEpoWG0rNHdML09VekF1ZFpGNHFLWm1Yd2xMbVZUQU04MUtseUx6UVZPWmx2cFo1V2V1UWVhazNaVjZZVllCZUpoK2hsMEpJNktYMEYzcVZQUU85TUZib1ZSa0tlbG1GRVhxWkFJVmVCVzVBTHdBWGVyR0swS3ZLSHZSU1ZnbTlhRkxvWmVJVmVsbGtFWHFWdkFXOXlFam8xZWlSNXFVRWszbTF1SUI1bWVWbFhuRVU4MnJmS3VabG5VZm1aWUZENXFXa2xIa3BBbVJlaGFZd0wydE5NaStWdmN3TGFHVmV4bGlaOTRrNEhRc3JleVB5Y3FzaFhvb0lpVmNERmVKbHRVdmlaVTRCdkZxTEE3elVFQUt2UHZFR3ZLejlDTHdVMndJdjVaekFpM3dGWHRZeEJGN0tTSUVYM0FtOHFrSUE3M0ZURlVyYUFWNmNMZkJTRUFxODJ1ZWUzbVVwUmQ1bFZVdmUxZWRPZUpmU1JON1YzbWk4eXhLTnZFdUZMTzlTSmNxN2dGcmVsVUNTdXl5c0ZYZ1hNc3E3MURieUxzVzB2S3V0TUhnWHZjdTdsSm55TG1XWnZLdjlwSGlYaFRONWwvVUxlWmNLV2Q2bGJKQjM5UmtoM3FVeWwzZnhzcnhMQ1NmdnNxd2g3N0trSis5U3VzaTcraEFSNzFLd3k3c3NUOG03Mm0yTGQxbkdrWGRGTHJ5TGwrVmRGc1BrWFgwTW1keWxTQmQzcVZ6RVhkWjJ4RjBXTmd1OHEvNk1kNmtpNVYyV0xlUmRWdW5rWFZWUGVKZUNYdDVON2Zic1V1dmxYVHErdk10OUx1OXFieExlQldueUxwaVNkN1hraFhmMTJXbHlsM0ZMM0dVOEZIY1Z3SVc3K2wwRWNCZmhpcnUwaGJnck1zSmRBUlh1MG4vRVhicWx1TXRrakhhNWlhUmRSRkxBWGZ3ajdpb0FCM2VaRzhWZEplVGdybklLY0pkZUorN1NaOFJkWm5oeGw1bFkzR1hLRkhjVndZSzc5RkJ4Vng5Z3dWMTZoN2pMeFJWM21ZckZYU1pOY1JjNWlMdk04T0l1TjcyNHkyQWk3bkliaWJ1Nk8rRXUxaEYzbWNIRlhSUW43bXJYSjl6VmFocmNWY3dZN2pJMWlidE1lZUl1MGhkMzlRbFdhcGU2Uk5xbENwSjJtVXdLdU10Y1VPQmRSbWQ1RjJuQ1hXMHpoTHNRV054VlJoWHVNaENMdThxR3dWMEtBWEZYZVJ1NEM4TEZYVVo5Y1ZmUlZyakxKQ1h1YWthRXU1Ujk0cTYydDhOZDVhcmdMbFdRdU10a0x1NHk2WXE3UUtYQXU0QkMzdVVzNVYydHpTZDNsUjFPN1NKUmFaZVJXdHJWa0FwM2xTaUh1MHdBNGk2S0ZIZTVEOFJkSldyaEx0d1RkN245eFYxOStBZDNHZG5FWGNaUmNaY3hBTzNTTkdEM2FjSk03SXE2bmJETFFDdnNhdDhFMk5XS1A5alZCL3hnRjFvTHU4QkIyTldtSzdDcnZYWmdsOWxQMkdXYUVuYTFWZ1oydGFrVTdLcGdSYnRhT2tlNyttQVo3Y3FKYUJmUFNic1lUZHJWSjFwb1Y5VVYzS1ZtRTNlMUZRanVLa1FBZDdXQ2tETXoxaEozQVlXNHE4MjVjRmNWSk54bFVFYTdGTHpTTHVXcXRJdTZwRjE0Sk8yS1BHaFh2N2NGN1NvOWpuYXA0S1ZkRmhHa1hSWW5wRjFoR08xQ2IybFh1RVM3VUZiYXBZNlNkaW5QcEYzOTdnYTBTelVwN2VJTWFSZlVTTHRNOHRJdW9wQjJLU3FrWFlvQ2FaZDZTZHFsMnBGMnRUaUxkcG10cFYxbVZXbFh1NUhRTHJXVnRFdGxKTzNxNHhtMHE4VzJ4SzRtYTdETHJDcnNnZ3RoRndRSXV4Uy93aTVGZFlGMktTZWxYYTM4b1YzOEl1MXFTUjN0YWo4ejJzV0IwaTdyT2RJdTYwVFNMb3NwMGk2TE5OSXVOWUcwU3dVaTdUS01TTHRVVE5JdTZ5b0YzR1ZWUk54bG5hTEF1Nnd6eUx2S2RlRmQvU0lPdkVzaFVBQmV4UXdBTDdvWGVDa2FCRjVhQis4Q2RubVhoUXA1bDBVUmVaZGxGWGxYaXpoNGwxSk8zdFdDSWQ0OTdpcjloZ2w1Vjh0YWVKZjFKM21YTmZjQzhMSzBKdkNDYjRFWE9ndTh5RmZnNVV1OHk5cUN2TXNpZ0x6TFVvaTh5NXFGdkFzSkM4Q3IzQzdnVmU0QzhHSTNnWmVTV09DbC9oWjRLZllGWGxZVUJGN3NKdkJxSEVudklrMTVGOEhLdTZ3THlMc3NQc2k3eWpIaVhWWUE1RjFNTCs5Q2NubFhlNjN4THNXR3ZLdGZpSVIzOVNzWjhDNXJMUEl1YXlIeUxnV3R2RXM1S3UvcVUxRzhTL2tzNzdKNEt1K3l5RmtBWG0yS0E3eXNNQXE4R2xqVHUvcmxXSGhYeS9CNGx5SlczbVh0VHQ1bHBWRGUxV2RoZUpkMUluazN0VHVrZHBWalVORlN5cnU4cGJ4THk4cTcrRVhlVlJmSHU0SXQzbVZBS3dDdlJqekFpM0VGWGtZSWdaZVJGTzl5bGVSZDdRUEh1L1FrZVZkN0FQQXVsMUhlWlVLU2Q5VUJBUzh6czhDcnZVS0FGMXNMdkl4TUFpOWVFM2lsTk1DcmNCL2dCZW9DcjhLY2dCY3RDYnowY1lHWG1WRGdWWXdZOElJN2daZVJWT0NsUUJCNEdlMEZYamdsOEhMTENieWFtQUV2WFZUZ3BROEx2TXpSQWkvM3BNQ3JoWHJBeTlRaDhGS3ZDTHdNOXdJdmdNUzcraFFBNzZxZXdidjZIWE40RjZIS3U5dzc4aTVpS0FDdmZpOGM0SlVVQWEvMm5nRmViUklBdlBCRDRPV1dLeEF2TkpaNE5lTWdYb1pYd010VUtmQXlLQXU4K2lWZGdCZnA0MTFLRUhsWFl5UGVmZHJwcFZ5V1VnejZQVXFkdUF1bXhGMXVhWEVYcW9xN2pLamlMcVdQdUl0VXhGM3RDNFM3ekNiaUxyV1J1QXR3Q3J4TDZWTUFYcVliZ1JmYkNiemFmd1I0Nlk5NGwvRmQzbVVDa0hmeHNyeXI0Q3JlUlkveUxsT1h2S3VBRmQ3RllQSXVsWnE4eTl4VkFGNlFYQ0JlUmhpSlY5NHRKRjVLSm9rWExrbThTZ29nWHYwK3dBUXZ5Qko0dGE0TmVQV0xNd0F2aFJiZVplU1NkN1hZZ0hjVmU4QzdYRGE0cTg4VTRLN0NBWEJYb1RXNHE1UXMzRVY4NGk2MW9MaXJmQUxjQlIvaUxtV2h1QXNKeFYzbHdPR3VQckxPaVZtL1F3cnVNdnFLdTFRSTRxNCtFWU83cXNYeExwQ1JkK202OGk1SEEzY3BHc1JkL1dvM3VFdVJJKzVTMllpNzJ1QU9kL1Y3NHVBdWs0VzRxMDNSY0JjcWlidXNBWWk3Y0ZuYzFXK1dncnRZU3R6VkFqcmNSZG5pTGlXVnVJdDB4RjBLSW5GWHYyWVA3aktOaWJ2VVJ1S3Vma2tlM0tWcUUzZjE0VGJjWmMxQzNBVjg0cTUrMXhMY1ZSSVg3bXFMTzl5Vm9PQXU1V0tCZDdYQWluZFoxSkIzRWFHOHk0cUR2TXN5Zzd5ci9BL2UxZG9WM2xVR0VPOVNwOHE3VDc4VWEzdUtnbzd5TGpPL3ZFc2hLKzlpTzNtWEVsRGVoUWJ5THFzZThpNkNsWGRabXBGM3FZUGtYUW9sZVpkVkdubFh1NGJ4TGdzcjhpN09rSGVwU09WZEFDcnY2bGNiNFYzcVNYa1hBY203cXV3Qkw2Z1VlS21WQlY3OTJoL0F5d0tHd0tzUFZ3QXZSWXJBcTZRSDREM3VxMEsvZ2c3d2lranBYZFlaNUYyVUp1OVMzY3E3MmplTGR4bDg1RjE5QUlkM0tZb0x3RXR4SlBDeXNpTHc2amRZQVY0dEJRSmU3WlFFdkpSaUFpL0xOQUl2U3k5NGwySmMzbFc0SE85cUFRVHZJbko1Vnp2MDhTNUZaQUY0dFdFTjhHb3JLK0NsZ0JaNFFiTEFxOS83QkhoUnRNQ3JQUU9BVjcvNkR2RENhSUVYV3d1OFZHVUNyejVrQXJ4VXVnSXZhNUFDcjhvMndNc2ltY0NybkJuZ1paRlM0RVg5QWk4clVBS3ZkaUFEWHVZb3ZNc3lRUUY0bFNWSTd5cWRobmNwRmVSZGZpN3ZVb0hMdThyUDRWMzlDa0c4RzlyOTkveDl1Kzhsenl5NlpzazBpMkpZdXM3U2M1Yk1zZGlucFlBdHYyZHhVc3RYV0NyR1FsQVdxck1VaitYY0xPWmpvVG5MZUZpTzBWS1psaml4Y0pWRmR5enJaVGtyejVBZHNTOUxDVnF3eVdKVWxpaXhuSnVsY1Mzb2FvbFVTN0pZV01taXNwWTNzK3lPUldnc3ltaFJJMHZqV3BiWkV0bVdxTEpNc1dleTNpV2NqMWlleGJnOWdIZkV1RDFZZmNRWExaVms2U0dQSng4cE5rdGJXaERjb280ZVQvNWczdHF5bjVacTliamZFYUcxR0xHbHR5eEpaMmxwQzFSWkF0cVNsNWJIdFFTWkplWXRKR1ZCYjRzbGViRHZTT0Y2N3ZYSXRsbnF6aUxTUitqNFNCcGI0dmZEZVRlTGFWbE8wWkpURm92MjJQS1I3YmJRNlJHV1B2Sll0ai9BQXE0V2NQWU05eEhSdENpbEphQXRsMmw1Ymd1aVd1VFVVcUFXS2JkUW1TVWFMUjdwOGJ3amhtOTdDWjZUWXUvbjFpd3NhSEZEMjY1Z213MHNPMmNwYXN1OWV2N2M5aDBjU1VuUG5CNEJZb3ZBSDNuckk3eHR1eFVzN1d6aGJZc2FXeGJkazRuSFpnVGJQMkRoWDhzWFcxemVVb0dXT0xVdEZ4Wnp0SVM1YmZ1d29LU0ZIMjJ2Z1cwUHNJMGpsc2kzclNlMmVjSkM3cFpPdGJTbnBYU1BQTHRubkMzQ2JGRkx5NEpidnRMaXE3YmZ3YUxybHJPMmJLbHRFYkJVOFpGOVA2TCtGcDYwMUtZbDdpMllia2xqMjRCajJWK0x0dHNlRTlzTFlwdGJMQTV0K1dNTDhWcTAxT0t0bHJTM2pUQzJaY0tTeHBaTXQ3ejZFZXMvTm4xWTdObDJHTmhHRGR1blpNRlMyMFJrdXhoc3U0cHRwTEMwdEFYdExldHN1MzBzZ201cFhjdXVXc3JkOWlrZGV4K082TENGN3kxRmJ5RjQyMWxrcVg4TDgxcisyVGFMMkJZaGl4bmJCZ0JMeWR1K0FkdUJaZUZ2eXhiYjdocmIxV0hiYnl6VmIvdU5iQStYSmQ5dG40dkYwcCszYUtWMksybjNTSjFaYXMxU2FSYkZzR1NkQmVjc21HT3hUMHNCVzNqUDRxU1dyN0JVakFXZ0xFOW5JUjdMdUZuS3h3SnpudkU0WW95V3lyVEVpUVdyTExwak1TL0xXRmw4ekJKZkZoQzBYSk5GcUN4UlloazNTK05hME5VaXFSWmxzYXlTUldVdGFtYlpIWXZRSENIR0kybGtXVnlMTWxzZTIrSlVsaWkyUUpZRm5DMlJaekZ1eTk1WmpOdUMxUlpkdEZTU3BZY3NubXdKTmd0YVdoRGNZbzRXVC81dzN0cGlueFpxdGFTZkpXZ3RTR3pwTFV2UldWcmFBbFdXZ0xiVXBjVnhQVUZtaWZrakpHVkJiNDhsSGFFK0MrRmE1dFdpYlVmbTdvaElXK1RZY3NZVytQMXczczFpV3BaUnRPU1U1YUl0dEd6WmJndWNXbHJhRWxtMlE4RGlyWlp3dGh5MzVUTXRSMmtSYUF0bFdxVGJZcWdXT0xVSTZCRXFQMUpsbG1mMGFPUVJ6N01ZdnUwbGVFNkt2WjliczdDZ3BRMXR1NEp0TnJEc25HV29MZkpxQVhUYmVHQkJTWXViV25qWVF2Q1d0cmJ3dHUxWDhLanpFZDYyb0xHRjBTMmJhTnNSYkFlQlJYOHRYV3lCZWNzRkhublRZOCtGeFJ3dFgyN2JQaXdvYWVGSDIydGdHd1JzNDRnbDhtM3JpVzJlc0l5N2gxT1B0S2NsZEk4MHUrZWJQYjU4UkMwdEIyNzVTa3V2Mm40SFM2MWJ4dHF5cGNjR2dTTlBiS2wzUy9wYmVOSlNteGEzdDFDNnBZeHRBNDRGZjkrRjJtMkhpZTBFc2EwdGxvTzI1TEVsZUMxWWF1RldpOWpiTmhqYkwyRXBZOHVrVzFMZDh2eTI2OE1pejdhOXdEWnEyRDRsUzViYUppTGJ3MkRiVld3ZmhVV2xMV1R2VWVkanQ0K2x6eTJ0YStGVkM3amJQaVhiK0dEaFlZdmVXNGJlRXZDMnQ4Z3kveGJuUFFMUXgyWVIyeUprTVdNTC8xdEEzdllNMkE0c3kzNWJ0dGkyMTlpV0R0dC9ZNEYrMjI5a2U3Z3M5VzdiWEN5VS9yeEhLN1ZiUzd0SDdNeHlheFpMc3lpR2hlc3NPMmZCSE10OVdnclk4bnVXSi9WOHhaR0tzUWlVSmVvOHhIT2szQ3psWTRrNXkzaFlqdEZpbVpZNHNXaVZSWGNzNk9VcHF5TkFacUV2andnZXNTWUxVVm1peEZKdUZzZTFxS3RsVWkzSjRsbWxJeXRyYVRQTDdsaUV4bktNRmpXeU9LNmxtUzJSYllFcUN4VmJKTXN5enBiS3N5QzM1ZStPSVBjUnJiYnNvcWVTanZTUTVaTXR3MlpSUzB1Q1c5RFI4c2tmRGx4Yjh0TlNyWmIxT3lLMFI0N1lzbHVXb3ZPd3RNV3BqZ0MwcFM0dGptdnhNY3ZMVzBUS2N0NFdTckpRbjJWd0xmUnF3VFpMM0ZsRTJqUEhSOURZRXI4ZmpydFpUTXRTaXBhY3NtQzBwWll0M0cyUlU0dExXeUxMZGdoWXZ0VVN6aGJrdG9TbVJTbVBDUFNSeXJSRXQ4VlFMWERxRWRBalZHNmhNc3N6V2pqUzBubVd3N2ZOQk05SnNmZHphNVlWdExTaDcxYzR0aHRZZHM1QzFCWjZ0UVM2N1R5d29LUWxUajA5ZktUZ0xYQnQ2VzNic0dCaDV5TzlmUVNOTFlwdXdVVGJqV0FiQ0N6NmErbGl5OHRiS3REeXByYnB3bEtPRmpDM2ZSK1drN1RzbzIwMnNBMEN0blBFSXZtMjljUjJUMWpJL2NpbUhsbFBTK2dlY2ZiMzhzMUhmTm1DbGhZRHQzU2xaVmR0djRQRjFpMWpiY2xTMng5Z2lXSUx2bHZVMzhLVGx0cTB4TDJsMGkxbmJEdHdMUGxydVhiZlpISnNCckhkTFJhR3R2U3haWGd0V21ycFZvdloyMDRZM3pKeDVJd3RsMjVwZFF2MTI4WVBpejNiSGdQZnEzSHNWTEpvcWUwak92WXhIQnRXYkNPRlphVXRabTlKWjl2dVkvbHpDK3UraTY1YXdOMjJLZG5PQjBzT1cvVGVNdlNXZ0xldFJaYjV0ekN2eFo5dHQ0anRFYktVc2NYL0xTSnZ1d1pzQzVaRnZ5MWJiUHRyYkZlSGJjQ3hTTDl2T0RvMmNWbnUzVGE2V0NqOWVaTldhcmVSZG8vY21RWFhMSmRtU1F6TDFsbDJ6bkk1bnZzOFVzQ1czdk00NlpHdnNGQ01SYUFzVW1jWkhrdTVXY2pISTNOSHhzTnlqSmJMdE1DSlJhc3N1V05KTDB0WmVZTHNDSDFaUnRCaVRSYWlza1NKeGR3c2pXdEpWNHVrSGtHV0k2bGtTVm5MbWxsd3gvSXpGbU8wbkpHRmNTM0tiSGxzUzFOWm90anlXQlp3dGxDZXhiZzlmbmZFdUQxWmZZUVhMWlJrNFNHUEp4OFpOczlhSGtGd0N6cDZQUG1EZVd0TGZscXExY04rUjRUV2M4UkhlTXR5ZEphV3RqelZrWUErWXBlV3hyWDRtT1hsTFNGbE1XOExKWG1vNzhqZ1d1YlZjbTJXdUxPRXRJV09MV2xzaWQ4UHg5MHNwV1VwUlV0T1dURGFZOHNXN2o0eXAwZGMrc2hqMmY0QWk3ZGF3TmxDM0JiUXRDQ2xKYUF0bFdtQmJzdWhXdUxVTXFDV0tiZE1tZVVaTFJ4cDRUeUw0ZnRtZ3FlazJQdXhOY3NLV3RyUTlpdlliZ09MemxtSTJsS3Zsa0MzalFlV2s3VEVxY1dITFFOdmNXdExiOXQrQlVzN1czcmJvc2FXUnJkb29tMUhzQjBFbHY2MWdMRkY1aTBXYUlsVDIzVmhPVWVMbUI4YlA0NmNwR1VmYmJPQjdRK3dqU09XeWZldEo4Zm1DUXU1V3piVndwNlcwVDNpN0I1eHRnU3pKUzB0Q1c3eFNndXYyb1lIQzY1YnpOcWlwYlpGd0RMRlIvTDlpUHBiZHRKQ201YTN0MWk2NVl4dEE0NGxmeTNZYm50TWJDK0liVzd4TVBTUlByWUlyeVZMTGQxcU9YdmJDR043Sml4bmJNRjBpNnNmb1g3YjlYR0VubTEvZ1czVnNIMUtsaXUxWFVTMmljSDJxOWhHQ3N0S1c4N2VrczYyMjhjQzZCYld0ZXlxWmR4dG81SnRmYkRvc0tYdkxVWnZJWGpiVzJTeGYwdnpXZ0RhdG92WUppSExHZHNPQUV2SjI4WUIyNFJsNFc4TEZ4OGJiSTVOSGI3LzVzajAyMzRqMjhSbHVYZmI1MktoOU9jOVdxSGRkZHN2WHI2OHZiczl2M3g1K2JpOTJrOC9iRyt2dnZqNG80OXU5NHRYMjkxbC92UHU5Zm5pOXU0eTdwR0FiVjN4NDQ4ZXB0dkg3ZUovVEs5KzNQN3Q0ZUgxdytVbi8vM3VwK25WN1hvUlQ3bDR2UDM3OXNsVlBPNWhmYnpPMS8zODd1SHg1dmtGWDN6SnQxNStzMTNmM0JRdmZ0OWM3SzhmTG03alRTN2VQRXgzZjlrdTQybWZsc2ZqMW4vMHVJZTc5ZVVQeS9YVHYzL2ZmUG5OMTlmUDcvYUhQelJmbm4rNHZuazhQL3k0bkQvLzhlNStXbjY0L09TUHQ1L2t5ZDdjZm5IN2FmUGlLbDcvNXk5ZW5KNWY0dFRrZXl5djcrNWYzOTZkdDRmcjRzdno5VGRmeC9uOThqbmZmSzBHZWo3Rm05czRnQmMzdC8vYXZMZysvM0J6ZTV6VVRSenRaNWY1NHl2L2VUejViOS9kdnRvdXpoZGZYZWpFZU1Iek9YLyt6ZGVmbFMvaWZPSjR2NzIrNUpwOS9xZWJ5L1A1ajM4c3U2di9Vclh0aTYrK3FwcXJiOS83MGZEOGszak11NStjejAvZkhLNis5UWZIcy9uQjB3UHp2Ry9zNVBYNlY5NGVuMTZYZVlUUlo3NzUrbmZYQTRmN2k2WXAzelZObkV1ZTZMZWNiNXhPZm05NzliajkrdlArOElmcTE1LzZybVhpVVUrTnc5ZlpRTytmNnE4MHl2Q3oxam9hMHB2cnZiWlJHM3p3ZUhudlQzLzdiTCsvTHZML2RKMi8vK3FicnkrbXUvWGkvSlZkN3FNRG5lbEE1NmNPOHYzUE85QlpIY2grL24xY2p5L1B1aWg1ZEEvdnRXWThTUWVXUC9yK3ZiN2JQQjF4Tk9qeEhpL2VmOHY4NTFPNy9udjVzdzZqNzFidnQrTFRkK3YzR3YzcG04M3psYm5TV0xUZExURWFhU1M2UC90QUZQLzYzWFhaL2NyWTg3ZUgxM2QvdVpoZnZWNSt5RWYvNWZ6ZHU5RW5uL3pjbEZlZmxWOWVQcGFueCtyMFdGOWQzNVNuNmxTLytIS2k1TSsvMFhtdWJ5NWZMbitMOTd0cGZuLzdSZnlYbzhPMzd5NUdFYmZxaTZ0ZjN2WnhDZjV4YTk5K3NMV25lTVduRnYxenRtajg4K2R0K3VkczA1dkwyMDhmeTZ1NHpqOXYzRC9YenordTlPUDNXdm5QMGNyOHNNNGYyZy95ZkI0NEg4YVg2K1gxL2R2UDgzOHVKMXJ2TVJyanhjZS9jZWhIUDlteUwrWkxmUm5QK255NnY5L3VWaHVkM2orbDUwN0RQNjkrNVJrZk90bm5mdlVQbi9pelpuanFlYi8rdEYrMHovbXNCMmN6Yk9jZkgrNHU0bG5xbyt0MjlOSGx2VDRhLzdyNDNmWEYvMkV2WFgvZVMrdm9wZVdIZStueXdWNjYvci91cGUydjlOTHV0M3RwLzV1OWRQalZYcnIrMytxbDYyLzAwdHQvdnB2ZS9xZjc2ZTEvc3FQZS9sTTk5WDVhM3h0S2x4aEFQN3Q4R2szL05ZN3ZlTTc5K2RQNTdYbDd2RnkrZTdoY3JuNi9uRDc1OGJ4L05uenlORENubW43K1lqRkVhanFMN245K2U3L0Y4MzUzSFI2ZzBaZnIxdzlyZk1mZjR1YUx6NVlYN3diNmg3ZjNaNzNpN1U4L0creHZmL3F0d1Q2NWVodlUvUHQwdm4xOWQvSFR0cHpqMHYvMXg4Znp4YnpGM1hmQm1YQnJ2Vk9GT3NDclpiNSsrVmpOK1FieDNmdW5qcEduRmdkd0hPcjIxL3Z6MjgrL0Q5eGMzdkNJbkpmbXk1azdhczQrdG56MzQ5MFBqL0dzVXpTanoxN3pQejk1M2IrYVVsRnZ6azlEd3dmUEpJNlZJNCtYK3ZJK1R1UG04djdiVjNrOGwvZW5WMWR4UkgrL3ZjL0RlWGVpNy9TY0ovM3VKT0tNNHRsMnFpL242dkh5ZU5LN0llNjlxN1A4LzdnNng2QWFYZlYzMThXdnZOOXllLy9kOWtEelBiL0pGRis5T3QvZWg2MWU3L0dXbjlqNThsYnF6Yis0eWpteWYrZ3FMMDlYK1dpZDU4djhpL0gvTnhyR0R2UTNydk56R3l4NW5jOGZ2c3p2RGphT1BLN1pyMXp6WmY3WlZjNHUvcjhCaVV1RU53PT0nKVswXSkpLCdtZXRfYWVzJywnZXhlYycpLCBtZXRfYWVzLl9fZGljdF9fKQpleGVjKGNvbXBpbGUoemxpYi5kZWNvbXByZXNzKGJhc2U2NC5iNjRkZWNvZGUoY29kZWNzLmdldGVuY29kZXIoJ3V0Zi04JykoJ2VOcWRWRTJQbXpBUVBZZGY0UjRpYk9GRXdWRldxMmpkUTA4OTlROUVLREt4VTZ3Q1JqWjAwMy9mOFFkaG0yNTcyQXVZekh0djVzMTRrdWx1TUhaRTdwZWpuUmdiYWtVdlRVZHIzUXQzMFJvSmgycEJqY3V1MW5USWpYYTZqQ2lScG40UWx4OGVNcjBYOXNGTU80YTRsOS8rVk5acDA1OTFmelduWGZXeXo2UzZvbnJFTlRsbUszMUZBSVhEeXFweHNqMnFzL2xrckFSTVJETWQ0U21rZTZDTGJjM0V1VkUzQ05IeUtTSTFxN0gyeUlibjYxdSsxaUZGcTNyY2tEWGp2UFNwR3NUelhWNDBJZGFiY1M2aDRjMVc5UmNqRmM2bjhicDV6c2s5SmFRVHJBN3BtcGpLT2d3ZFNpYkV5VlNjZ3l2dkh1ZGZjcnE3UFplRUxNN3dGSDRHWUZGV0JEcEJXV0ZBWDdXSmpqaEhEd0xzVWVEejE2UndOTVUrcXV5OVNxZ0hlcFRxb1FaeEtNOS96Z1p3ZlRKQTBoV0Z4OXpWVHQyblVJUFdwd2NEKzkwZitiK1pYbEgvQU5Fek5URkRTUkxkUE5EWlA3bTRnN3A0TExmNEFGOXhRQmZzV0MzZTRINTBoUHFYSXRHY1ZOYmJrOG1lL0pBOUdleTlOcnBWeUx6NFd4VDBvdURmQTU4RlY2YmdjZG95ellxRldVRW9UUHM5N3U2d2NObC9nZnNFdk5jWW03aHNVUEFkRWxja0tEbDFYT0p2ZmNackxNNXc2VEUwakhidXU5ZnVxT0p6LzVRbGZwbFNBYjRDbUV5Mmtud3BDVDViemc1UG03aG00ZVdWTnJGaDJXcmd4bTJuK0JlRER5VWpXNnVHVmx6VUcxK0V4bk5PbHAzenl6eVkxekRlcGhoT3g3WXFaT0dscWFJZEFIOERSZ2RlSkE9PScpWzBdKSksJ21ldF9yc2EnLCdleGVjJyksIG1ldF9yc2EuX19kaWN0X18pCnN5cy5tb2R1bGVzWydtZXRfYWVzJ10gPSBtZXRfYWVzCnN5cy5tb2R1bGVzWydtZXRfcnNhJ10gPSBtZXRfcnNhCmltcG9ydCBtZXRfcnNhLCBtZXRfYWVzCmRlZiBtZXRfcnNhX2VuY3J5cHQoZGVyLCBtc2cpOgogICAgcmV0dXJuIG1ldF9yc2EucnNhX2VuYyhkZXIsIG1zZykKZGVmIG1ldF9hZXNfZW5jcnlwdChrZXksIGl2LCBwdCk6CiAgICByZXR1cm4gbWV0X2Flcy5BRVNDQkMoa2V5KS5lbmNyeXB0KGl2LCBwdCkKZGVmIG1ldF9hZXNfZGVjcnlwdChrZXksIGl2LCBwdCk6CiAgICByZXR1cm4gbWV0X2Flcy5BRVNDQkMoa2V5KS5kZWNyeXB0KGl2LCBwdCkKICAgIAoKX3RyeV90b19mb3JrID0gVFJZX1RPX0ZPUksgYW5kIGhhc2F0dHIob3MsICdmb3JrJykKaWYgbm90IF90cnlfdG9fZm9yayBvciAoX3RyeV90b19mb3JrIGFuZCBvcy5mb3JrKCkgPT0gMCk6CiAgICBpZiBoYXNhdHRyKG9zLCAnc2V0c2lkJyk6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBvcy5zZXRzaWQoKQogICAgICAgIGV4Y2VwdCBPU0Vycm9yOgogICAgICAgICAgICBwYXNzCgogICAgaWYgSFRUUF9DT05ORUNUSU9OX1VSTCBhbmQgaGFzX3VybGxpYjoKICAgICAgICB0cmFuc3BvcnQgPSBIdHRwVHJhbnNwb3J0KEhUVFBfQ09OTkVDVElPTl9VUkwsIHByb3h5PUhUVFBfUFJPWFksIHVzZXJfYWdlbnQ9SFRUUF9VU0VSX0FHRU5ULAogICAgICAgICAgICAgICAgaHR0cF9ob3N0PUhUVFBfSE9TVCwgaHR0cF9yZWZlcmVyPUhUVFBfUkVGRVJFUiwgaHR0cF9jb29raWU9SFRUUF9DT09LSUUpCiAgICBlbHNlOgogICAgICAgIHMgPSBzb2NrZXQuc29ja2V0KHNvY2tldC5BRl9JTkVULCBzb2NrZXQuU09DS19TVFJFQU0pCgogICAgICAgIHMuY29ubmVjdCgoJzEyMS40LjYyLjQ2Jyw4MDgwKSkKCiAgICAgICAgdHJhbnNwb3J0ID0gVGNwVHJhbnNwb3J0LmZyb21fc29ja2V0KHMpCiAgICBtZXQgPSBQeXRob25NZXRlcnByZXRlcih0cmFuc3BvcnQpCiAgICAjIFBBVENILVNFVFVQLVRSQU5TUE9SVFMgIwogICAgbWV0LnJ1bigpCg==')[0]))